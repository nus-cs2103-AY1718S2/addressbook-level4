# anh2111
###### /resources/view/ReportListCard.fxml
``` fxml
<HBox id="cardPane" fx:id="cardPane" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1">
  <GridPane HBox.hgrow="ALWAYS">
    <columnConstraints>
      <ColumnConstraints hgrow="SOMETIMES" minWidth="10" prefWidth="150" />
    </columnConstraints>
    <VBox alignment="CENTER_LEFT" minHeight="100" GridPane.columnIndex="0">
      <padding>
        <Insets top="5" right="5" bottom="5" left="15" />
      </padding>
      <HBox spacing="5" alignment="CENTER_LEFT">
        <Label fx:id="id" styleClass="cell_big_label">
          <minWidth>
            <!-- Ensures that the label te
            xt is never truncated -->
            <Region fx:constant="USE_PREF_SIZE" />
          </minWidth>
        </Label>
        <Label fx:id="date" text="\$first" styleClass="cell_big_label" />
      </HBox>
      <FlowPane fx:id="tags" />
      <Label fx:id="totalPersons" styleClass="cell_small_label" text="\$totalPersons" />
      <Label fx:id="totalTags" styleClass="cell_small_label" text="\$totalTags" />
    </VBox>
  </GridPane>
</HBox>
```
###### /resources/view/MorningTheme.css
``` css
.background {
    background-color: white;
}

.center {
    display: flex;
    position: fixed;
    align-items: center;
    justify-content: center;
    height: 100%;
    width: 100%;
}

#rootVBox, #rootHBox {
    -fx-border-radius: 10;
    -fx-background-radius: 10;
}

#statusBarFooter, #syncStatus, #saveLocationStatus {
    -fx-border-radius: 0 0 10 10;
    -fx-background-radius: 0 10 10 10;
}

/* Tab Pane */

.tab-pane {
    -fx-padding: 3 3 3 3;
}

.tab-pane .tab-header-area {
    -fx-padding: 0 0 0 0;
    -fx-min-height: 0;
    -fx-max-height: 0;
}

/* Table View */

.table-view {
    -fx-base: #404eb4;
    -fx-control-inner-background: #404eb4;
    -fx-background-color: #404eb4;
    -fx-table-cell-border-color: transparent;
    -fx-table-header-border-color: transparent;
    -fx-padding: 5;
}

.table-view .column-header-background {
    -fx-background-color: transparent;
}

.table-view .column-header, .table-view .filler {
    -fx-size: 10;
    -fx-border-width: 0 0 1 0;
    -fx-background-color: transparent;
    -fx-border-color: transparent transparent derive(-fx-base, 80%) transparent;
    -fx-border-insets: 0 10 1 0;
}

.table-view .column-header .label {
    -fx-font-size: 12pt;
    -fx-font-family: 'Arial', Arial, sans-serif;
    -fx-text-fill: white;
    -fx-alignment: center-left;
}

.table-view:focused .table-row-cell:filled:focused:selected {
    -fx-background-color: -fx-focus-color;
}

/* Split Pane Divider */

.split-pane:horizontal .split-pane-divider {
    -fx-background-color: #f4f4f4;
    -fx-background-insets: 0 0 0 0;
}

/* Split Pane Consisting of Person List Cards + Browser Panel */

.split-pane {
    -fx-border-width: 0 0 0 0;
    -fx-border-color: white;
    -fx-background-color: #f4f4f4;
}

/* List Card Cells */

.list-view {
    -fx-background-color: #ffffff;
    -fx-background-insets: 0;
    -fx-padding: 0;
}

.list-cell {
    -fx-label-padding: 0 0 0 0;
    -fx-graphic-text-gap: 0;
    -fx-padding: 0 0 0 0;
    -fx-border-width: 0 0 0 0;
    -fx-border-color: #f0f0f0;
    -fx-background-color: white;
}

.list-cell:filled:even {
    -fx-background-color: white;
}

.list-cell:filled:odd {
    -fx-background-color: white;
}

.list-cell:filled:selected {
    -fx-background-color: #b3e5ff;
}

/* Person List Card Fonts */

.cell_big_label {
    -fx-font-family: "Arial";
    -fx-font-size: 12px;
    -fx-text-fill: black;
    -fx-font-weight: bold;
}

.cell_small_label {
    -fx-font-family: "Arial";
    -fx-font-size: 10px;
    -fx-text-fill: black;
}

/* Command Box & Result Display Box Background */

.anchor-pane {
    -fx-background-color: transparent;
}

.pane-with-border {
    -fx-background-color: #f4f4f4;
    -fx-border-color: #f4f4f4;
}

.report-pane {
    -fx-background-color: white;
    -fx-border-color: white;
    -fx-padding-color:white;
}

.report-pane .viewport {
    -fx-background-color: white;
}

/* Result Display Box */

.result-display {
    -fx-background-color: transparent;
    -fx-font-family: 'Arial', Arial, sans-serif;
    -fx-font-size: 10pt;
        -fx-padding: 0;
    -fx-text-fill: #2d3436;
}

#resultDisplay .content {
    -fx-background-color: #dfe6e9;
    -fx-background-radius: 20px 20px 5px 20px;
}

.result-display .label {
    -fx-text-fill: black !important;
}

/* Status Bar */

.status-bar {
    -fx-background-color: #1f1f1f;
    -fx-text-fill: white;
}

.status-bar .label {
    -fx-font-family: "Arial";
    -fx-text-fill: white;
}

/* Grid */

.grid-pane {
    -fx-background-color: derive(#1f1f1f, 10%);
    -fx-border-color: derive(#1f1f1f, 10%);
    -fx-border-width: 5px;
}

.grid-pane .anchor-pane {
    -fx-background-color: derive(#1f1f1f, 10%);
}

/* Context Menu */

.context-menu {
    -fx-background-color: derive(#6c5ce7, 10%);
}

.context-menu .label {
    -fx-text-fill: white;
}

/* Menu */

.menu-bar {
    -fx-background-color: #f4f4f4;
    -fx-border-color:#f4f4f4;
    -fx-border-width: 2px;
}

.menu-bar .label {
    -fx-font-size: 10pt;
    -fx-font-family: "Arial";
    -fx-text-fill: #b2bec3;
}

.menu:hover, .menu:showing {
    -fx-background-color: #8293f8;
}

.menu-item:hover, .menu-item:focused {
    -fx-background-color: #8293f8;
}

.menu-item:pressed {
    -fx-background-color: #8293f8;
}

/* Scroll Bar */

.scroll-bar {
    -fx-background-color: white;
}

.scroll-bar .thumb {
    -fx-background-color: #f0f0f0;
    -fx-background-insets: 3;
}

.scroll-bar .increment-button, .scroll-bar .decrement-button {
    -fx-background-color:  #f0f0f0;
    -fx-padding: 0 0 0 0;
}

.scroll-bar .increment-arrow, .scroll-bar .decrement-arrow {
    -fx-shape: " ";
}

.scroll-bar:vertical .increment-arrow, .scroll-bar:vertical .decrement-arrow {
    -fx-padding: 1 6 1 6;
}

.scroll-bar:horizontal .increment-arrow, .scroll-bar:horizontal .decrement-arrow {
    -fx-padding: 6 1 7 6;
}

/* Command Box */

#commandTextField {
    -fx-padding: 10;
    -fx-background-color: linear-gradient(to right, #4568DC, #B06AB3);
    -fx-font-family: 'Arial', Arial, sans-serif;
    -fx-font-weight: bold;
    -fx-font-size: 12pt;
    -fx-text-fill: white;
    -fx-prompt-text-fill: white;
    -fx-background-radius: 5px 20px 20px 20px;
    -fx-border-radius: 5px 20px 20px 20px;
}

/* Tags */

#tags {
    -fx-hgap: 4;
    -fx-vgap: 4;
    -fx-padding: 5 0 5 0;
}

#tags .label {
    -fx-font-family: "Arial";
    -fx-font-size: 8pt;
    -fx-font-weight: bold;
    -fx-text-fill: white;
    -fx-padding: 4;
    -fx-border-radius: 2;
    -fx-background-radius: 2;
}

/* In this theme, red, blue, pink indicate different colors */
#tags .pink{
   -fx-background-color: linear-gradient(to right, #7474BF, #348AC7);
    -fx-text-fill: white;
}

#tags .red{
    -fx-background-color:  linear-gradient(to right, #36D1DC, #5B86E5);
    -fx-text-fill: white;
}

#tags .blue{
    -fx-background-color: linear-gradient(to right, #00d2ff, #3a7bd5);
    -fx-text-fill: white;
}

/* Pie Chart */

#pieChart .default-color0.chart-pie { -fx-pie-color: #cee8c9; }
#pieChart .default-color1.chart-pie { -fx-pie-color: #90d1ce; }
#pieChart .default-color2.chart-pie { -fx-pie-color: #56bad4; }
#pieChart .default-color3.chart-pie { -fx-pie-color: #3e96c4; }
#pieChart .default-color4.chart-pie { -fx-pie-color: #326eac; }
#pieChart .default-color5.chart-pie { -fx-pie-color: #264595; }
#pieChart .default-color6.chart-pie { -fx-pie-color: #191a7e; }
#pieChart .default-color7.chart-pie { -fx-pie-color: #121256; }

#pieChart.chart-pie-label {
    -fx-font-size: 0em;
}

#pieChart {
    -fx-padding: 20 5 5 5;
}

#barChart .default-color0.chart-bar {
    -fx-bar-fill: #516395;
}
```
###### /resources/view/ReportPanel.fxml
``` fxml
<ScrollPane styleClass="report-pane" >
    <GridPane xmlns="http://javafx.com/javafx"
              xmlns:fx="http://javafx.com/fxml"
              prefHeight="1000" prefWidth="400.0"
              minWidth="400.0"
              styleClass="report-pane"
              fx:id="report">
        <columnConstraints>
            <ColumnConstraints percentWidth="100" hgrow="NEVER"/>
        </columnConstraints>
        <rowConstraints>
            <RowConstraints percentHeight="32" vgrow="ALWAYS" />
            <RowConstraints percentHeight="32" vgrow="ALWAYS" />
            <RowConstraints percentHeight="36" vgrow="ALWAYS" />
        </rowConstraints>
        <children>
            <BarChart id="barChart" fx:id="barChart"
                      GridPane.columnIndex="0"
                      GridPane.columnSpan="1"
                      GridPane.rowIndex="0">
                <xAxis>
                    <CategoryAxis side="RIGHT" />
                </xAxis>
                <yAxis>
                    <NumberAxis side="TOP" />
                </yAxis>
            </BarChart>
            <PieChart id="pieChart" fx:id="pieChart"
                      GridPane.columnIndex="0"
                      GridPane.columnSpan="1"
                      GridPane.rowIndex="1"
            />
            <ListView fx:id="reportListView"
                      GridPane.columnIndex="0"
                      GridPane.columnSpan="1"
                      GridPane.rowIndex="2"
            />
        </children>
    </GridPane>
</ScrollPane>
```
###### /java/seedu/address/ui/ReportPanel.java
``` java
package seedu.address.ui;

import java.util.ArrayList;
import java.util.logging.Logger;

import org.fxmisc.easybind.EasyBind;

import javafx.collections.FXCollections;
import javafx.collections.ObservableList;

import javafx.fxml.FXML;
import javafx.scene.chart.BarChart;
import javafx.scene.chart.PieChart;
import javafx.scene.chart.XYChart;
import javafx.scene.control.ListCell;
import javafx.scene.control.ListView;
import javafx.scene.layout.Region;

import seedu.address.MainApp;
import seedu.address.commons.core.LogsCenter;
import seedu.address.model.report.Proportion;
import seedu.address.model.report.Report;

/**
 * The Report Panel of the App.
 */
public class ReportPanel extends UiPart<Region> {
    private static final String FXML = "ReportPanel.fxml";
    private static final Logger logger = LogsCenter.getLogger(MainApp.class);
    private static final Double CHART_BAR_GAP = 0.1;

    private Report pReport;
    private ObservableList<Report> reportHistory;

    @FXML
    private PieChart pieChart;

    @FXML
    private BarChart barChart;

    @FXML
    private ListView<ReportCard> reportListView;

    public ReportPanel(Report report, ObservableList<Report> reportHistory) {
        super(FXML);
        pReport = report;
        this.reportHistory = reportHistory;

        setupPieChart();
        setupBarChart();
        setupHistoryTable();
    }

    private void setupPieChart() {
        pieChart.setTitle("In " + pReport.getTotalTags() + " Tags");
        pieChart.setData(tabulateData());
        pieChart.setLabelsVisible(false);
    }

    private void setupBarChart() {
        String paneTitle =  "Statistics of #" + pReport.getPopulation().tagName + " candidates\n\n";
        String barChartTitle = "In " + pReport.getTotalPersons() + " candidates";
        int indentation = Math.max((int) ((paneTitle.length() - barChartTitle.length()) * 0.8), 0);
        String spacesInTitle = new String(new char[indentation]).replace('\0', ' ');
        barChart.setTitle(paneTitle + spacesInTitle + barChartTitle);
        barChart.setData(tabulateBarChartData());
        barChart.setBarGap(CHART_BAR_GAP);
    }

    private void setupHistoryTable() {
        ObservableList<ReportCard> mappedList = EasyBind.map(
                reportHistory, (p) -> new ReportCard(p));
        reportListView.setItems(mappedList);
        reportListView.setCellFactory(listView -> new ReportPanel.ReportListViewCell());
    }

    /**
     * Formats the data into PieChart.Data for display
     */
    private ObservableList<PieChart.Data> tabulateData() {
        ArrayList<PieChart.Data> data = new ArrayList<>();
        int count = 0;

        for (Proportion p : pReport.getAllProportions()) {
            count++;
            int percent = (int) ((p.value * 100.0f) / pReport.getTotalTags());
            data.add(new PieChart.Data(count + ". " + p.tagName + " " + percent + "%", p.value));
        }
        return FXCollections.observableArrayList(data);
    }

    /**
     * Formats the data into BarChart.Data for display
     */
    private ObservableList<XYChart.Series<String, Integer>> tabulateBarChartData() {
        ObservableList<XYChart.Series<String, Integer>> data = FXCollections.observableArrayList();
        XYChart.Series<String, Integer> series = new XYChart.Series<String, Integer>();
        series.setName("Number of Candidates Having The Tag");

        for (Proportion p : pReport.getAllProportions()) {
            series.getData().add(new XYChart.Data(p.tagName, new Integer(p.totalPersons)));
        }
        data.addAll(series);

        return data;
    }

    /**
     * Custom {@code ListCell} that displays the graphics of a {@code ReportCard}.
     */
    class ReportListViewCell extends ListCell<ReportCard> {

        @Override
        protected void updateItem(ReportCard r, boolean empty) {
            super.updateItem(r, empty);

            if (empty || r == null) {
                setGraphic(null);
                setText(null);
            } else {
                setGraphic(r.getRoot());
            }
        }
    }
}
```
###### /java/seedu/address/ui/ReportCard.java
``` java
package seedu.address.ui;

import javafx.fxml.FXML;
import javafx.scene.control.Label;
import javafx.scene.layout.FlowPane;
import javafx.scene.layout.HBox;
import javafx.scene.layout.Region;
import seedu.address.model.report.Report;

/**
 * An UI component that displays information of a {@code Report}.
 */
public class ReportCard extends UiPart<Region> {

    private static final String FXML = "ReportListCard.fxml";
    private static final String[] TAG_COLORS = {"red", "pink", "blue"};

    /**
     * Note: Certain keywords such as "location" and "resources" are reserved keywords in JavaFX.
     * As a consequence, UI elements' variable names cannot be set to such keywords
     * or an exception will be thrown by JavaFX during runtime.
     *
     * @see <a href="https://github.com/se-edu/addressbook-level4/issues/336">The issue on AddressBook level 4</a>
     */

    public final Report report;

    @FXML
    private HBox cardPane;
    @FXML
    private Label date;
    @FXML
    private FlowPane tags;
    @FXML
    private Label totalPersons;
    @FXML
    private Label totalTags;

    public ReportCard(Report report) {
        super(FXML);
        this.report = report;
        totalPersons.setText("Total number of people: " + report.getTotalPersons());
        totalTags.setText("Total number of tags: " + report.getTotalTags());
        date.setText("Statistics at " + report.getDate());

        initTags(report);
    }

    /**
     * Add comment!!
     * @param report
     */
    private void initTags(Report report) {
        report.getAllProportions().forEach(p -> {
            Label label = new Label(p.tagName + "(" + p.value + ")");
            label.getStyleClass().add(getTagColorFor(p.tagName));
            tags.getChildren().add(label);
        });
    }

    /**
     * Add comment!!
     * @param tagName
     * @return
     */
    private String getTagColorFor(String tagName) {
        //some explanation
        return TAG_COLORS[Math.abs(tagName.hashCode()) % TAG_COLORS.length];
    }

    @Override
    public boolean equals(Object other) {
        // short circuit if same object
        if (other == this) {
            return true;
        }

        // instanceof handles nulls
        if (!(other instanceof ReportCard)) {
            return false;
        }

        // state check
        ReportCard card = (ReportCard) other;
        return date.getText().equals(card.date.getText())
                && report.equals(card.report);
    }
}
```
###### /java/seedu/address/ui/MainWindow.java
``` java
    /**
     * Replace the current panel by Report panel
     */
    void switchToReportPanel() {
        reportPanel = new ReportPanel(logic.getReport(), logic.getReportHistory());
        browserOrReportPlaceholder.getChildren().clear();
        browserOrReportPlaceholder.getChildren().add(reportPanel.getRoot());
        isReportPanelOpen = true;
    }

    /**
     * Replace the current panel by Browser panel
     */
    void switchToBrowserPanel() {
        browserPanel = new BrowserPanel();
        browserOrReportPlaceholder.getChildren().clear();
        browserOrReportPlaceholder.getChildren().add(browserPanel.getRoot());
        isReportPanelOpen = false;
    }
```
###### /java/seedu/address/ui/MainWindow.java
``` java
    @Subscribe
    private void handleToggleBrowserPanelEvent(ToggleBrowserPanelEvent event) {
        switchToBrowserPanel();
    }

    @Subscribe
    private void handleToggleReportPanelEvent(ToggleReportPanelEvent event) {
        switchToReportPanel();
    }
```
###### /java/seedu/address/commons/events/ui/RefreshReportPanelEvent.java
``` java
package seedu.address.commons.events.ui;

import seedu.address.commons.events.BaseEvent;

/**
 * Indicates that report should be recalculated
 */
public class RefreshReportPanelEvent extends BaseEvent {

    public RefreshReportPanelEvent() {
    }

    @Override
    public String toString() {
        return this.getClass().getSimpleName();
    }

}
```
###### /java/seedu/address/commons/events/ui/ToggleBrowserPanelEvent.java
``` java
package seedu.address.commons.events.ui;

import seedu.address.commons.events.BaseEvent;

/** Indicates that the Browser Panel should be toggled  */
public class ToggleBrowserPanelEvent extends BaseEvent {

    @Override
    public String toString() {
        return this.getClass().getSimpleName();
    }

}
```
###### /java/seedu/address/commons/events/ui/ToggleReportPanelEvent.java
``` java
package seedu.address.commons.events.ui;
import seedu.address.commons.events.BaseEvent;

/** Indicates the Report Panel should be toggled */
public class ToggleReportPanelEvent extends BaseEvent {

    @Override
    public String toString() {
        return this.getClass().getSimpleName();
    }

}
```
###### /java/seedu/address/logic/parser/ArgumentWithOption.java
``` java
package seedu.address.logic.parser;

import static seedu.address.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;
import static seedu.address.logic.parser.CliSyntax.PREFIX_OPTION;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

import seedu.address.logic.commands.EditCommand;
import seedu.address.logic.parser.exceptions.ParseException;

/**
 *  ArgumentWithOption class encapsulates an argument in the format: [OPTION] ARGS, and handles the parsing, extracting
 *  option from the argument.
 */
public class ArgumentWithOption {

    private static final Pattern ARGUMENT_FORMAT =
            Pattern.compile("(?<commandOption>" + PREFIX_OPTION.getPrefix() + "\\S+)?(?<arguments>.*)");
    private String rawArgs;
    private final String option;
    private String args;

    public ArgumentWithOption(String rawArgs) throws ParseException {
        this.rawArgs = rawArgs.trim();

        final Matcher matcher = ARGUMENT_FORMAT.matcher(this.rawArgs);
        if (!matcher.matches()) {
            throw new ParseException(String.format(MESSAGE_INVALID_COMMAND_FORMAT, EditCommand.MESSAGE_USAGE));
        }
        this.args = matcher.group("arguments");

        String rawOption = matcher.group("commandOption");
        this.option = (rawOption != null) ?  rawOption.substring(PREFIX_OPTION.getPrefix().length()) : "";
    }

    public boolean isOption(String toCheck) {
        return toCheck.equals(option);
    }

    public String getArgs() {
        return args;
    }
}
```
###### /java/seedu/address/logic/parser/ViewReportCommandParser.java
``` java
package seedu.address.logic.parser;

import static java.util.Objects.requireNonNull;
import static seedu.address.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;
import static seedu.address.logic.parser.CliSyntax.PREFIX_POPULATION;

import java.util.Set;
import java.util.stream.Stream;

import seedu.address.commons.exceptions.IllegalValueException;
import seedu.address.logic.commands.ViewReportCommand;
import seedu.address.logic.parser.exceptions.ParseException;
import seedu.address.model.tag.Tag;
/**
 * Parses input arguments and creates a new ViewReportCommand object
 */
public class ViewReportCommandParser implements Parser<ViewReportCommand> {

    /**
     * Parses the given {@code String} of arguments in the context of the ViewReportCommand
     * and returns an ViewReportCommand object for execution.
     * @throws ParseException if the user input does not conform the expected format
     */
    public ViewReportCommand parse(String args) throws ParseException {
        requireNonNull(args);
        ArgumentMultimap argMultimap = ArgumentTokenizer.tokenize(args, PREFIX_POPULATION);

        if (!arePrefixesPresent(argMultimap, PREFIX_POPULATION)) {
            throw new ParseException(String.format(MESSAGE_INVALID_COMMAND_FORMAT, ViewReportCommand.MESSAGE_USAGE));
        }

        Set<Tag> groups;
        Tag populationTag;
        try {
            populationTag = ParserUtil.parseTag(argMultimap.getValue(PREFIX_POPULATION).orElse(""));
        } catch (IllegalValueException ive) {
            throw new ParseException(ive.getMessage(), ive);
        }

        return new ViewReportCommand(populationTag);
    }

    /**
     * Returns true if none of the prefixes contains empty {@code Optional} values in the given
     * {@code ArgumentMultimap}.
     */
    private static boolean arePrefixesPresent(ArgumentMultimap argumentMultimap, Prefix... prefixes) {
        return Stream.of(prefixes).allMatch(prefix -> argumentMultimap.getValue(prefix).isPresent());
    }
}
```
###### /java/seedu/address/logic/parser/SaveReportCommandParser.java
``` java
package seedu.address.logic.parser;

import static java.util.Objects.requireNonNull;
import static seedu.address.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;
import static seedu.address.logic.parser.CliSyntax.PREFIX_POPULATION;

import java.util.stream.Stream;

import seedu.address.commons.exceptions.IllegalValueException;
import seedu.address.logic.commands.SaveReportCommand;
import seedu.address.logic.parser.exceptions.ParseException;
import seedu.address.model.tag.Tag;
/**
 * Parses input arguments and creates a new SaveReportCommand object
 */
public class SaveReportCommandParser implements Parser<SaveReportCommand> {

    /**
     * Parses the given {@code String} of arguments in the context of the SaveReportCommand
     * and returns an SaveReportCommand object for execution.
     * @throws ParseException if the user input does not conform the expected format
     */
    public SaveReportCommand parse(String args) throws ParseException {
        requireNonNull(args);
        ArgumentMultimap argMultimap = ArgumentTokenizer.tokenize(args, PREFIX_POPULATION);

        if (!arePrefixesPresent(argMultimap, PREFIX_POPULATION)) {
            throw new ParseException(String.format(MESSAGE_INVALID_COMMAND_FORMAT, SaveReportCommand.MESSAGE_USAGE));
        }

        Tag populationTag;
        try {
            populationTag = ParserUtil.parseTag(argMultimap.getValue(PREFIX_POPULATION).orElse(""));
        } catch (IllegalValueException ive) {
            throw new ParseException(ive.getMessage(), ive);
        }

        return new SaveReportCommand(populationTag);
    }

    /**
     * Returns true if none of the prefixes contains empty {@code Optional} values in the given
     * {@code ArgumentMultimap}.
     */
    private static boolean arePrefixesPresent(ArgumentMultimap argumentMultimap, Prefix... prefixes) {
        return Stream.of(prefixes).allMatch(prefix -> argumentMultimap.getValue(prefix).isPresent());
    }
}
```
###### /java/seedu/address/logic/commands/SaveReportCommand.java
``` java
package seedu.address.logic.commands;

import static java.util.Objects.requireNonNull;

import seedu.address.commons.core.EventsCenter;
import seedu.address.commons.events.ui.ToggleReportPanelEvent;
import seedu.address.model.tag.Tag;

/**
 * Adds a report to the address book.
 */
public class SaveReportCommand extends Command {
    public static final String COMMAND_WORD = "savereport";
    public static final String COMMAND_ALIAS = "sr";
    public static final String MESSAGE_USAGE = COMMAND_WORD
            + ": Save report at the current state.\n"
            + "Parameters: pop/POPULATION_TAG\n"
            + "Example: " + COMMAND_WORD + " pop/SEIntern OR " + COMMAND_ALIAS + " pop/SEIntern";
    public static final String MESSAGE_SUCCESS = "Saved report for #";
    public final Tag population;

    public SaveReportCommand(Tag population) {
        requireNonNull(population);
        this.population = population;
    }

    @Override
    public CommandResult execute() {
        model.updateReport(population);
        model.addReport(model.getReport());
        EventsCenter.getInstance().post(new ToggleReportPanelEvent());

        return new CommandResult(MESSAGE_SUCCESS + population.tagName);
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof SaveReportCommand // instanceof handles nulls
                && this.population.equals(((SaveReportCommand) other).population)); // state check
    }
}
```
###### /java/seedu/address/logic/commands/ViewReportCommand.java
``` java
package seedu.address.logic.commands;

import static java.util.Objects.requireNonNull;

import seedu.address.commons.core.EventsCenter;
import seedu.address.commons.events.ui.ToggleReportPanelEvent;
import seedu.address.model.tag.Tag;

/**
 * Displays the report to the user.
 */
public class ViewReportCommand extends Command {
    public static final String COMMAND_WORD = "viewreport";
    public static final String COMMAND_ALIAS = "vr";
    public static final String MESSAGE_USAGE = COMMAND_WORD
            + ": view the report for candidates tagged with #POPULATION_TAG\n"
            + "Parameters: pop/POPULATION_TAG\n"
            + "Example: " + COMMAND_WORD + " pop/SEIntern OR " + COMMAND_ALIAS + " pop/SEIntern";
    public static final String MESSAGE_SUCCESS = "Displayed report for #";
    public final Tag population;

    public ViewReportCommand(Tag population) {
        requireNonNull(population);
        this.population = population;
    }

    @Override
    public CommandResult execute() {
        model.updateReport(population);
        EventsCenter.getInstance().post(new ToggleReportPanelEvent());
        return new CommandResult(MESSAGE_SUCCESS + population.tagName);
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof ViewReportCommand // instanceof handles nulls
                && this.population.equals(((ViewReportCommand) other).population)); // state check
    }
}
```
###### /java/seedu/address/logic/commands/EditCommand.java
``` java
    /**
     * Stores the details to edit the person with. Each non-empty field value will replace the
     * corresponding field value of the person.
     */
    public static class EditPersonDescriptor {
        private Name name;
        private Phone phone;
        private Email email;
        private Address address;
        private Link link;
        private Skill skill;
        private Set<Tag> tags;
        private Set<Tag> newTags;
        private Set<Tag> deletedTags;

        public EditPersonDescriptor() {}

        /**
         * Copy constructor.
         * A defensive copy of {@code tags} is used internally.
         */
        public EditPersonDescriptor(EditPersonDescriptor toCopy) {
            setName(toCopy.name);
            setPhone(toCopy.phone);
            setEmail(toCopy.email);
            setAddress(toCopy.address);
            setLink(toCopy.link);
            setSkill(toCopy.skill);
            setTags(toCopy.tags);
            setNewTags(toCopy.newTags);
            setDeletedTags(toCopy.deletedTags);
        }

        /**
         * Returns true if at least one field is edited.
         */
        public boolean isAnyFieldEdited() {
            return CollectionUtil.isAnyNonNull(this.name, this.phone, this.email, this.address, this.skill,
                    this.tags, this.newTags, this.deletedTags);
        }

        public void setName(Name name) {
            this.name = name;
        }

        public Optional<Name> getName() {
            return Optional.ofNullable(name);
        }

        public void setPhone(Phone phone) {
            this.phone = phone;
        }

        public Optional<Phone> getPhone() {
            return Optional.ofNullable(phone);
        }

        public void setEmail(Email email) {
            this.email = email;
        }

        public Optional<Email> getEmail() {
            return Optional.ofNullable(email);
        }

        public void setAddress(Address address) {
            this.address = address;
        }

        public Optional<Address> getAddress() {
            return Optional.ofNullable(address);
        }

        public void setSkill(Skill skill) {
            this.skill = skill;
        }

        public Optional<Skill> getSkill() {
            return Optional.ofNullable(skill);
        }

        public void setLink(Link link) {
            this.link = link;
        }

        public Optional<Link> getLink() {
            return Optional.ofNullable(link);
        }

        /**
         * Sets {@code tags} to this object's {@code tags}.
         * A defensive copy of {@code tags} is used internally.
         */
        public void setTags(Set<Tag> tags) {
            this.tags = (tags != null) ? new HashSet<>(tags) : null;
        }

        /**
         * Add  {@code newTags} to this object's {@code newTags}.
         * A defensive copy of {@code newTags} is used internally.
         */
        public void setNewTags(Set<Tag> newTags) {
            this.newTags = (newTags != null) ? new HashSet<>(newTags) : null;
        }

        /**
         * Add  {@code newTags} to this object's {@code tags}.
         * A defensive copy of {@code newTags} is used internally.
         */
        public void setDeletedTags(Set<Tag> deletedTags) {
            this.deletedTags = (deletedTags != null) ? new HashSet<>(deletedTags) : null;
        }

        /**
         * Returns an unmodifiable tag set, which throws {@code UnsupportedOperationException}
         * if modification is attempted.
         * Returns {@code Optional#empty()} if {@code tags} is null.
         */
        public Optional<Set<Tag>> getTags() {
            return (tags != null) ? Optional.of(Collections.unmodifiableSet(tags)) : Optional.empty();
        }

        /**
         * Returns an unmodifiable tag set, which throws {@code UnsupportedOperationException}
         * if modification is attempted.
         * Returns {@code Optional#empty()} if {@code newTags} is null.
         */
        public Optional<Set<Tag>> getNewTags() {
            return (newTags != null) ? Optional.of(Collections.unmodifiableSet(newTags)) : Optional.empty();
        }

        /**
         * Returns an unmodifiable tag set, which throws {@code UnsupportedOperationException}
         * if modification is attempted.
         * Returns {@code Optional#empty()} if {@code deletedTags} is null.
         */
        public Optional<Set<Tag>> getDeletedTags() {
            return (deletedTags != null) ? Optional.of(Collections.unmodifiableSet(deletedTags)) : Optional.empty();
        }

        /**
         * Creates and returns a {@code Person} with the details of {@code personToEdit}
         * edited with {@code editPersonDescriptor}.
         */
        public Person createEditedPerson(Person personToEdit) {
            boolean isTagsChanged = getTags().isPresent();
            boolean isNewTagsChanged = getNewTags().isPresent();
            boolean isDeletedTagsChanged = getDeletedTags().isPresent();

            boolean isMultipleTagsChanged = (isTagsChanged && isNewTagsChanged)
                    || (isTagsChanged && isDeletedTagsChanged) || (isDeletedTagsChanged && isNewTagsChanged);
            assert !isMultipleTagsChanged;

            assert personToEdit != null;

            Name updatedName = getName().orElse(personToEdit.getName());
            Phone updatedPhone = getPhone().orElse(personToEdit.getPhone());
            Email updatedEmail = getEmail().orElse(personToEdit.getEmail());
            Skill updatedSkill = getSkill().orElse(personToEdit.getSkills());
            Remark updatedRemark = personToEdit.getRemark();
            Link updatedLink = personToEdit.getLink();
            Address updatedAddress = getAddress().orElse(personToEdit.getAddress());

            Set<Tag> updatedTags;
            Set<Tag> personTags = new HashSet<>(personToEdit.getTags());
            if (isTagsChanged) {
                updatedTags = getTags().orElse(null);
            } else if (isNewTagsChanged) {
                if (personTags.isEmpty()) {
                    updatedTags = getNewTags().orElse(null);
                } else {
                    updatedTags = personTags;
                    updatedTags.addAll(getNewTags().orElse(null));
                }
            } else if (isDeletedTagsChanged) {
                updatedTags = personTags;
                if (!personTags.isEmpty()) {
                    updatedTags.removeAll(getDeletedTags().orElse(null));
                }
            } else {
                updatedTags = personTags;
            }


            return new Person(updatedName, updatedPhone, updatedEmail, updatedAddress, updatedRemark,
                    updatedLink, updatedSkill, updatedTags);
        }

        @Override
        public boolean equals(Object other) {
            // short circuit if same object
            if (other == this) {
                return true;
            }

            // instanceof handles nulls
            if (!(other instanceof EditPersonDescriptor)) {
                return false;
            }

            // state check
            EditPersonDescriptor e = (EditPersonDescriptor) other;

            return getName().equals(e.getName())
                    && getPhone().equals(e.getPhone())
                    && getEmail().equals(e.getEmail())
                    && getAddress().equals(e.getAddress())
                    && getLink().equals(e.getLink())
                    && getTags().equals(e.getTags());
        }
    }
```
###### /java/seedu/address/logic/LogicManager.java
``` java
    @Override
    public ObservableList<Report> getReportHistory() {
        return model.getReportHistory();
    }
```
###### /java/seedu/address/logic/LogicManager.java
``` java
    @Override
    public Report getReport() {
        return model.getReport();
    }
```
###### /java/seedu/address/storage/StorageManager.java
``` java
    @Override
    public void backupAddressBook(ReadOnlyAddressBook addressBook) throws IOException {
        addressBookStorage.backupAddressBook(addressBook);
    }
```
###### /java/seedu/address/storage/XmlAddressBookStorage.java
``` java
    @Override
    public void backupAddressBook(ReadOnlyAddressBook addressBook) throws IOException {
        saveAddressBook(addressBook, filePath + ".backup");
    }
```
###### /java/seedu/address/storage/XmlAdaptedProportion.java
``` java
package seedu.address.storage;

import javax.xml.bind.annotation.XmlElement;

import seedu.address.commons.exceptions.IllegalValueException;
import seedu.address.model.report.Proportion;

/**
 * JAXB-friendly adapted version of the Proportion.
 */
public class XmlAdaptedProportion {

    @XmlElement
    private String proportionName;
    @XmlElement
    private String value;
    @XmlElement
    private String totalPersonsInProportion;

    /**
     * Constructs an XmlAdaptedProportion.
     * This is the no-arg constructor that is required by JAXB.
     */
    public XmlAdaptedProportion() {}

    /**
     * Constructs a {@code XmlAdaptedProportion} with the given {@code proportionName}.
     */
    public XmlAdaptedProportion(String proportionName, int value, int totalPersons) {
        this.proportionName = proportionName;
        this.value = Integer.toString(value);
        this.totalPersonsInProportion = Integer.toString(totalPersons);
    }

    /**
     * Converts a given Proportion into this class for JAXB use.
     *
     * @param source future changes to this will not affect the created
     */
    public XmlAdaptedProportion(Proportion source) {
        proportionName = source.tagName;
        value = Integer.toString(source.value);
        totalPersonsInProportion = Integer.toString(source.totalPersons);
    }

    /**
     * Converts this jaxb-friendly adapted tag object into the model's Tag object.
     *
     * @throws IllegalValueException if there were any data constraints violated in the adapted person
     */
    public Proportion toModelType() throws IllegalValueException {
        return new Proportion(proportionName, Integer.parseInt(value), Integer.parseInt(totalPersonsInProportion));
    }

    @Override
    public boolean equals(Object other) {
        if (other == this) {
            return true;
        }

        if (!(other instanceof XmlAdaptedProportion)) {
            return false;
        }
        return proportionName.equals(((XmlAdaptedProportion) other).proportionName)
            && value.equals(((XmlAdaptedProportion) other).value)
            && totalPersonsInProportion.equals(((XmlAdaptedProportion) other).totalPersonsInProportion);
    }
}
```
###### /java/seedu/address/storage/XmlAdaptedReport.java
``` java
package seedu.address.storage;

import java.text.ParseException;
import java.util.ArrayList;
import java.util.List;
import java.util.Objects;

import javax.xml.bind.annotation.XmlElement;

import seedu.address.commons.exceptions.IllegalValueException;
import seedu.address.model.report.Proportion;
import seedu.address.model.report.Report;
import seedu.address.model.tag.Tag;

/**
 * JAXB-friendly version of the Report;
 */
public class XmlAdaptedReport {

    @XmlElement(required = true)
    private XmlAdaptedTag population;
    @XmlElement(required = true, defaultValue = "null")
    private Integer totalTags;
    @XmlElement(required = true, defaultValue = "null")
    private Integer totalPersons;
    @XmlElement
    private List<XmlAdaptedProportion> proportions = new ArrayList<>();
    @XmlElement
    private String date;

    /**
     * Constructs an XmlAdaptedReport.
     * This is the no-arg constructor that is required by JAXB.
     */
    public XmlAdaptedReport() {}

    /**
     * Constructs an {@code XmlAdaptedReport} with the given Report details.
     */
    public XmlAdaptedReport(XmlAdaptedTag population, int totalTags, int totalPersons,
                                List<XmlAdaptedProportion> proportions, String date) {
        this.population = population;
        this.totalPersons = totalPersons;
        this.totalTags = totalTags;
        this.proportions = proportions;
        this.date = date;
    }

    /**
     * Converts a given Report into this class for JAXB use.
     *
     * @param source future changes to this will not affect the created XmlAdaptedReport
     */
    public XmlAdaptedReport(Report source) {
        population = new XmlAdaptedTag(source.getPopulation());
        totalTags = source.getTotalTags();
        totalPersons = source.getTotalPersons();
        proportions = new ArrayList<>();
        for (Proportion p : source.getAllProportions()) {
            proportions.add(new XmlAdaptedProportion(p));
        }
        date = source.getDate();
    }

    /**
     * Converts this jaxb-friendly adapted Report object into the model's Report object.
     *
     * @throws IllegalValueException if there were any data constraints violated in the adapted Proportion
     */
    public Report toModelType() throws IllegalValueException, ParseException {
        final List<Proportion> proportions = new ArrayList<>();
        for (XmlAdaptedProportion p : this.proportions) {
            proportions.add(p.toModelType());
        }

        final Tag population = this.population.toModelType();

        return new Report(population, proportions, totalPersons, date);
    }

    @Override
    public boolean equals(Object other) {
        if (other == this) {
            return true;
        }

        if (!(other instanceof XmlAdaptedReport)) {
            return false;
        }

        XmlAdaptedReport otherReport = (XmlAdaptedReport) other;
        return Objects.equals(population, otherReport.population)
                && proportions.equals(otherReport.proportions)
                && totalPersons == otherReport.totalPersons
                && totalTags == otherReport.totalTags;
    }
}
```
###### /java/seedu/address/model/util/SampleDataUtil.java
``` java
    public static Report[] getSampleReports() throws InterruptedException {
        ArrayList<Report> sampleHistory = new ArrayList<>();

        Tag samplePopulation = new Tag("SEIntern");

        List<Proportion> sampleListA = new ArrayList<>();
        sampleListA.add(new Proportion("Screening", 10, 10));
        sampleListA.add(new Proportion("Interviewing", 1, 1));
        Report reportA = new Report(samplePopulation, sampleListA, 11);

        TimeUnit.SECONDS.sleep(2); // to make the data more reasonable

        List<Proportion> sampleListB = new ArrayList<>();
        sampleListB.add(new Proportion("Screening", 9, 9));
        sampleListB.add(new Proportion("Interviewing", 2, 2));
        Report reportB = new Report(samplePopulation, sampleListB, 11);

        TimeUnit.SECONDS.sleep(2); // to make the data more reasonable

        List<Proportion> sampleListC = new ArrayList<>();
        sampleListC.add(new Proportion("Screening", 8, 8));
        sampleListC.add(new Proportion("Interviewing", 3, 3));
        Report reportC = new Report(samplePopulation, sampleListC, 11);

        return new Report[] {
            reportA,
            reportB,
            reportC
        };
    }
```
###### /java/seedu/address/model/person/PersonContainsKeywordsPredicate.java
``` java
package seedu.address.model.person;

import java.util.List;
import java.util.function.Predicate;

import seedu.address.commons.util.StringUtil;

/**
 * Tests that a {@code Person}'s {@code Name} or {@code Email} or {@code Phone} or {@code Tags} matches any of the
 * keywords given.
 */
public class PersonContainsKeywordsPredicate implements Predicate<Person> {
    private final List<String> keywords;

    public PersonContainsKeywordsPredicate(List<String> keywords) {
        this.keywords = keywords;
    }

    @Override
    public boolean test(Person person) {
        return keywords.stream()
                .anyMatch(keyword -> StringUtil.containsWordIgnoreCase(person.getName().fullName, keyword)
                                || StringUtil.containsWordIgnoreCase(person.getEmail().toString(), keyword)
                                || StringUtil.containsWordIgnoreCase(person.getPhone().toString(), keyword)
                                || person.getTags().stream()
                                    .anyMatch(tag -> StringUtil.containsWordIgnoreCase(tag.tagName, keyword)));
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof PersonContainsKeywordsPredicate // instanceof handles nulls
                && this.keywords.equals(((PersonContainsKeywordsPredicate) other).keywords)); // state check
    }

}
```
###### /java/seedu/address/model/ModelManager.java
``` java
    @Override
    public synchronized void addReport(Report report) {
        addressBook.addReport(report);
        indicateAddressBookChanged();
    }
```
###### /java/seedu/address/model/ModelManager.java
``` java
    @Override
    public Report getReport() {
        return report;
    }

    @Override
    public void updateReport(Tag population) {
        FilteredList<Person> allPersonList = new FilteredList<>(this.addressBook.getPersonList());
        Predicate<Person> personContainsPopulationTagPredicate =
            new Predicate<Person>() {
                @Override
                public boolean test(Person person) {
                    return person.getTags().stream()
                            .anyMatch(tag -> StringUtil.containsWordIgnoreCase(tag.tagName, population.tagName));
                }
            };
        allPersonList.setPredicate(personContainsPopulationTagPredicate);

        Map<String, Pair<Integer, Integer>> counts = new HashMap<>();
        allPersonList.forEach((p) -> {
            Set<Tag> allTags = p.getTags();
            for (Tag t : allTags) {
                if (!t.tagName.equalsIgnoreCase(population.tagName)) {
                    counts.merge(t.tagName, new Pair<>(1, 1), (a, b) ->
                            new Pair(a.getKey() + b.getKey(), a.getValue() + b.getValue()));
                }
            }
        });

        List<Proportion> allProportions = new ArrayList<>();
        for (Map.Entry<String, Pair<Integer, Integer>> entry : counts.entrySet()) {
            allProportions.add(new Proportion(entry.getKey(), entry.getValue().getKey(), entry.getValue().getValue()));
        }

        report = new Report(population, allProportions, allPersonList.size());
    }

    @Override
    public void refreshReport() {
        this.updateReport(this.report.getPopulation());
    }
```
###### /java/seedu/address/model/ModelManager.java
``` java
    /**
     * Returns an unmodifiable view of the list of {@code Report} backed by the internal list of
     * {@code addressBook}
     */
    @Override
    public ObservableList<Report> getReportHistory() {
        reportList.setPredicate(new Predicate<Report>() {
            @Override
            public boolean test(Report oldReport) {
                return oldReport.getPopulation().tagName.equalsIgnoreCase(report.getPopulation().tagName);
            }
        });
        return FXCollections.unmodifiableObservableList(reportList);
    }
```
###### /java/seedu/address/model/report/UniqueReportList.java
``` java
package seedu.address.model.report;

import static java.util.Objects.requireNonNull;
import static seedu.address.commons.util.CollectionUtil.requireAllNonNull;

import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Set;

import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import seedu.address.commons.util.CollectionUtil;

/**
 * A list of reports that enforces no nulls and uniqueness between its elements.
 *
 * Supports minimal set of list operations for the app's features.
 *
 * @see #equals(Object)
 */
public class UniqueReportList implements Iterable<Report> {

    private final ObservableList<Report> internalList = FXCollections.observableArrayList();

    /**
     * Constructs empty TagList.
     */
    public UniqueReportList() {}

    /**
     * Creates a UniqueReportList using given reports.
     * Enforces no nulls.
     */
    public UniqueReportList(List<Report> reports) {
        requireAllNonNull(reports);
        internalList.addAll();

        assert CollectionUtil.elementsAreUnique(internalList);
    }

    /**
     * Returns all reports in this list as a Set.
     * This set is mutable and change-insulated against the internal list.
     */
    public Set<Report> toSet() {
        assert CollectionUtil.elementsAreUnique(internalList);
        return new HashSet<>(internalList);
    }

    public void setReports(UniqueReportList replacement) {
        this.internalList.setAll(replacement.internalList);
    }

    public void setReports(List<Report>  reports) {
        requireAllNonNull(reports);
        final UniqueReportList replacement = new UniqueReportList();
        for (final Report report : reports) {
            replacement.add(report);
        }
        setReports(replacement);
    }

    /**
     * Returns true if the list contains an equivalent Tag as the given argument.
     */
    public boolean contains(Report toCheck) {
        requireNonNull(toCheck);
        return internalList.contains(toCheck);
    }

    /**
     * Adds a Tag to the list.
     *
     */
    public void add(Report toAdd) {
        requireNonNull(toAdd);
        internalList.add(toAdd);

        assert CollectionUtil.elementsAreUnique(internalList);
    }

    /**
     * Removes a Report from the list.
     *
     */
    public void remove(Report toRemove) {
        requireNonNull(toRemove);
        if (contains(toRemove)) {
            internalList.remove(toRemove);
        }
        assert CollectionUtil.elementsAreUnique(internalList);
    }

    @Override
    public Iterator<Report> iterator() {
        assert CollectionUtil.elementsAreUnique(internalList);
        return internalList.iterator();
    }

    /**
     * Returns the backing list as an unmodifiable {@code ObservableList}.
     */
    public ObservableList<Report> asObservableList() {
        assert CollectionUtil.elementsAreUnique(internalList);
        return FXCollections.unmodifiableObservableList(internalList);
    }

    @Override
    public boolean equals(Object other) {
        assert CollectionUtil.elementsAreUnique(internalList);
        return other == this // short circuit if same object
                || (other instanceof UniqueReportList // instanceof handles nulls
                && this.internalList.equals(((UniqueReportList) other).internalList));
    }

    /**
     * Returns true if the element in this list is equal to the elements in {@code other}.
     * The elements do not have to be in the same order.
     */
    public boolean equalsOrderInsensitive(UniqueReportList other) {
        assert CollectionUtil.elementsAreUnique(internalList);
        assert CollectionUtil.elementsAreUnique(other.internalList);
        return this == other || new HashSet<>(this.internalList).equals(new HashSet<>(other.internalList));
    }

    @Override
    public int hashCode() {
        assert CollectionUtil.elementsAreUnique(internalList);
        return internalList.hashCode();
    }
}
```
###### /java/seedu/address/model/report/Proportion.java
``` java
package seedu.address.model.report;

import static java.util.Objects.requireNonNull;

import java.util.Objects;

/**
 * Represents a Proportion of a report in the address book.
 */
public class Proportion {
    public final String tagName;
    public final int value;
    public final int totalPersons;

    /**
     * Constructs a {@code Proportion}.
     *
     * @param tagName a valid tag name.
     */
    public Proportion(String tagName, int value, int totalPersons) {
        requireNonNull(tagName);
        assert value >= 0 && totalPersons >= 0;

        this.tagName = tagName;
        this.value = value;
        this.totalPersons = totalPersons;
    }

    public String toString() {
        return tagName + ": " + Integer.toString(value);
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof Proportion // instanceof handles nulls
                && this.tagName.equals(((Proportion) other).tagName)) // state check
                && this.value == ((Proportion) other).value
                && this.totalPersons == ((Proportion) other).totalPersons;
    }

    @Override
    public int hashCode() {
        return Objects.hash(tagName, value, totalPersons);
    }
}
```
###### /java/seedu/address/model/report/Report.java
``` java
package seedu.address.model.report;

import static seedu.address.commons.util.CollectionUtil.requireAllNonNull;

import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import java.util.List;
import java.util.Objects;

import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import seedu.address.model.tag.Tag;

/**
 * Represents a Report in the address book.
 */
public class Report {

    private final Tag population;
    private final List<Proportion> allProportions;
    private final int totalTags;
    private final int totalPersons;
    private final Date date;

    /**
     * Every field must be present and not null.
     */
    public Report(Tag population, List<Proportion> allProportions, int totalPersons) {
        requireAllNonNull(population, allProportions);

        this.date = Calendar.getInstance().getTime();
        this.population = population;
        // protect internal allProportions from changes in the arg list
        this.allProportions = new ArrayList<>(allProportions);

        int sum = 0;
        for (Proportion p : allProportions) {
            sum += p.value;
        }
        this.totalTags = sum;

        this.totalPersons = totalPersons;
    }

    public Report(Tag population, List<Proportion> allProportions, int totalPersons, String date)
            throws ParseException {
        requireAllNonNull(population, allProportions);

        DateFormat formater = new SimpleDateFormat("MM/dd/yyyy HH:mm:ss");
        this.date = formater.parse(date);

        this.population = population;
        // protect internal allProportions from changes in the arg list
        this.allProportions = new ArrayList<>(allProportions);

        int sum = 0;
        for (Proportion p : allProportions) {
            sum += p.value;
        }
        this.totalTags = sum;

        this.totalPersons = totalPersons;
    }

    public Tag getPopulation() {
        return population;
    }

    public ObservableList<Proportion> getAllProportions() {
        return FXCollections.unmodifiableObservableList(FXCollections.observableArrayList(allProportions));
    }

    public int getTotalTags() {
        return totalTags;
    }

    public int getTotalPersons() {
        return totalPersons;
    }

    public String getDate() {
        DateFormat formater = new SimpleDateFormat("MM/dd/yyyy HH:mm:ss");

        return formater.format(date);
    }

    @Override
    public boolean equals(Object other) {
        if (other == this) {
            return true;
        }

        if (!(other instanceof Report)) {
            return false;
        }

        Report otherPerson = (Report) other;
        return otherPerson.getPopulation().equals(this.getPopulation())
                && otherPerson.getAllProportions().equals(this.getAllProportions())
                && otherPerson.getPopulation().equals(this.getPopulation());
    }

    @Override
    public int hashCode() {
        return Objects.hash(population, allProportions);
    }

    @Override
    public String toString() {
        final StringBuilder builder = new StringBuilder();
        builder.append(population.tagName);
        return builder.toString();
    }

}
```
