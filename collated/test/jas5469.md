# jas5469
###### \java\guitests\guihandles\PersonCardHandle.java
``` java
    public List<String> getTagStyleClasses(String tag) {
        return tagLabels
                .stream()
                .filter(label -> label.getText().equals(tag))
                .map(Label::getStyleClass)
                .findFirst()
                .orElseThrow(() -> new IllegalArgumentException("No such tag."));
    }
}
```
###### \java\guitests\guihandles\StatusBarFooterHandle.java
``` java
    /**
     * Returns the text of the 'total persons' portion of the status bar.
     */
    public String getTotalPersonsStatus() {
        return totalPersonsStatusNode.getText();
    }
```
###### \java\guitests\guihandles\StatusBarFooterHandle.java
``` java
    /**
     * Remembers the content of the 'total persons' portion of the status bar.
     */
    public void rememberTotalPersonsStatus() {
        lastRememberedTotalPersonsStatus = getTotalPersonsStatus();
    }

    /**
     * Returns true if the current content of the 'total persons' is different from the value remembered by the most
     * recent {@code rememberTotalPersonsStatus()} call.
     */
    public boolean isTotalPersonsStatusChanged() {
        return !lastRememberedTotalPersonsStatus.equals(getTotalPersonsStatus());
    }
```
###### \java\seedu\address\logic\commands\AddGroupCommandIntegrationTest.java
``` java
package seedu.address.logic.commands;

import static seedu.address.logic.commands.CommandTestUtil.assertCommandFailure;
import static seedu.address.logic.commands.CommandTestUtil.assertCommandSuccess;
import static seedu.address.testutil.TypicalPersons.getTypicalAddressBook;

import org.junit.Before;
import org.junit.Test;

import seedu.address.logic.CommandHistory;
import seedu.address.logic.UndoRedoStack;
import seedu.address.model.Model;
import seedu.address.model.ModelManager;
import seedu.address.model.UserPrefs;
import seedu.address.model.group.Group;
import seedu.address.testutil.GroupBuilder;

/**
 * Contains integration tests (interaction with the Model) for {@code AddGroupCommand}.
 */
public class AddGroupCommandIntegrationTest {

    private Model model;

    @Before
    public void setUp() {
        model = new ModelManager(getTypicalAddressBook(), new UserPrefs());
    }

    @Test
    public void execute_newGroup_success() throws Exception {
        Group validGroup = new GroupBuilder().build();

        Model expectedModel = new ModelManager(model.getAddressBook(), new UserPrefs());
        expectedModel.addGroup(validGroup);

        assertCommandSuccess(prepareCommand(validGroup, model), model,
                String.format(AddGroupCommand.MESSAGE_SUCCESS, validGroup), expectedModel);
    }

    @Test
    public void execute_duplicateGroup_throwsCommandException() {
        Group groupInList = model.getAddressBook().getGroupList().get(0);
        assertCommandFailure(prepareCommand(groupInList, model), model, AddGroupCommand.MESSAGE_DUPLICATE_GROUP);
    }
    /**
     * Generates a new {@code AddGroupCommand} which upon execution, adds {@code group} into the {@code model}.
     */
    private AddGroupCommand prepareCommand(Group group, Model model) {
        AddGroupCommand command = new AddGroupCommand(group);
        command.setData(model, new CommandHistory(), new UndoRedoStack());
        return command;
    }
}
```
###### \java\seedu\address\logic\commands\AddGroupCommandTest.java
``` java
package seedu.address.logic.commands;

import static java.util.Objects.requireNonNull;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;
import static org.junit.Assert.fail;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.function.Predicate;

import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.ExpectedException;

import javafx.collections.ObservableList;
import seedu.address.logic.CommandHistory;
import seedu.address.logic.UndoRedoStack;
import seedu.address.logic.commands.exceptions.CommandException;
import seedu.address.model.AddressBook;
import seedu.address.model.Model;
import seedu.address.model.ReadOnlyAddressBook;
import seedu.address.model.event.Event;
import seedu.address.model.event.exceptions.DuplicateEventException;
import seedu.address.model.group.Group;
import seedu.address.model.group.exceptions.DuplicateGroupException;
import seedu.address.model.group.exceptions.GroupNotFoundException;
import seedu.address.model.person.Person;
import seedu.address.model.person.exceptions.DuplicatePersonException;
import seedu.address.model.person.exceptions.PersonNotFoundException;
import seedu.address.model.tag.Tag;
import seedu.address.model.tag.TagNotFoundException;
import seedu.address.model.todo.ToDo;
import seedu.address.model.todo.exceptions.DuplicateToDoException;
import seedu.address.model.todo.exceptions.ToDoNotFoundException;
import seedu.address.testutil.GroupBuilder;

public class AddGroupCommandTest {

    @Rule
    public ExpectedException thrown = ExpectedException.none();

    @Test
    public void constructor_nullGroup_throwsNullPointerException() {
        thrown.expect(NullPointerException.class);
        new AddGroupCommand(null);
    }

    @Test
    public void execute_groupAcceptedByModel_addSuccessful() throws Exception {
        ModelStubAcceptingGroupAdded modelStub = new ModelStubAcceptingGroupAdded();
        Group validGroup = new GroupBuilder().build();

        CommandResult commandResult = getAddGroupCommandForGroup(validGroup, modelStub).execute();

        assertEquals(String.format(AddGroupCommand.MESSAGE_SUCCESS, validGroup), commandResult.feedbackToUser);
        assertEquals(Arrays.asList(validGroup), modelStub.groupsAdded);
    }

    @Test
    public void execute_duplicateGroup_throwsCommandException() throws Exception {
        ModelStub modelStub = new ModelStubThrowingDuplicateGroupException();
        Group validGroup = new GroupBuilder().build();

        thrown.expect(CommandException.class);
        thrown.expectMessage(AddGroupCommand.MESSAGE_DUPLICATE_GROUP);

        getAddGroupCommandForGroup(validGroup, modelStub).execute();
    }

    @Test
    public void equals() {
        Group groupA = new GroupBuilder().withInformation("Group A").build();
        Group groupB = new GroupBuilder().withInformation("Group B").build();
        AddGroupCommand addGroupACommand = new AddGroupCommand(groupA);
        AddGroupCommand addGroupBCommand = new AddGroupCommand(groupB);

        // same object -> returns true
        assertTrue(addGroupACommand.equals(addGroupACommand));

        // same values -> returns true
        AddGroupCommand addGroupACommandCopy = new AddGroupCommand(groupA);
        assertTrue(addGroupACommand.equals(addGroupACommandCopy));

        // different types -> returns false
        assertFalse(addGroupACommand.equals(1));

        // null -> returns false
        assertFalse(addGroupACommand.equals(null));

        // different group -> returns false
        assertFalse(addGroupACommand.equals(addGroupBCommand));
    }

    /**
     * Generates a new AddGroupCommand with the details of the given group.
     */
    private AddGroupCommand getAddGroupCommandForGroup(Group group, Model model) {
        AddGroupCommand command = new AddGroupCommand(group);
        command.setData(model, new CommandHistory(), new UndoRedoStack());
        return command;
    }

    /**
     * A default model stub that have all of the methods failing.
     */
    private class ModelStub implements Model {
        @Override
        public void addPerson(Person person) throws DuplicatePersonException {
            fail("This method should not be called.");
        }

        @Override
        public void addEvent(Event event) throws DuplicateEventException {
            fail("This method should not be called.");
        }

        @Override
        public void addToDo(ToDo todos) throws DuplicateToDoException {
            fail("This method should not be called.");
        }

        @Override
        public void addGroup(Group group) throws DuplicateGroupException {
            fail("This method should not be called.");
        }

        @Override
        public void updateTag(Tag target, Tag editedTag) throws TagNotFoundException {
            fail("This method should not be called.");
        }

        @Override
        public void removeTag(Tag tag) {
            fail("This method should not be called.");
        }

        @Override
        public void resetData(ReadOnlyAddressBook newData
        ) {
            fail("This method should not be called.");
        }

        @Override
        public ReadOnlyAddressBook getAddressBook() {
            fail("This method should not be called.");
            return null;
        }

        @Override
        public void deletePerson(Person target) throws PersonNotFoundException {
            fail("This method should not be called.");
        }

        @Override
        public void deleteToDo(ToDo target) throws ToDoNotFoundException {
            fail("This method should not be called.");
        }

        @Override
        public void deleteGroup(Group target) throws GroupNotFoundException {
            fail("This method should not be called.");
        }

        @Override
        public void updatePerson(Person target, Person editedPerson)
                throws DuplicatePersonException {
            fail("This method should not be called.");
        }

        @Override
        public void updateToDo(ToDo target, ToDo editedToDo)
                throws DuplicateToDoException {
            fail("This method should not be called.");
        }

        @Override
        public void updateGroup(Group target, Group editedGroup)
                throws DuplicateGroupException {
            fail("This method should not be called.");
        }

        @Override
        public ObservableList<Person> getFilteredPersonList() {
            fail("This method should not be called.");
            return null;
        }

        @Override
        public ObservableList<ToDo> getFilteredToDoList() {
            fail("This method should not be called.");
            return null;
        }

        @Override
        public ObservableList<Event> getFilteredEventList() {
            fail("This method should not be called.");
            return null;
        }

        @Override
        public ObservableList<Group> getFilteredGroupList() {
            fail("This method should not be called.");
            return null;
        }

        @Override
        public void updateFilteredPersonList(Predicate<Person> predicate) {
            fail("This method should not be called.");
        }

        @Override
        public void updateFilteredToDoList(Predicate<ToDo> predicate) {
            fail("This method should not be called.");
        }

        @Override
        public void updateFilteredEventList(Predicate<Event> predicate) {
            fail("This method should not be called.");
        }

        @Override
        public void updateFilteredGroupList(Predicate<Group> predicate) {
            fail("This method should not be called.");
        }

        @Override
        public void indicateCalendarChanged() {
            fail("This method should not be called.");
        }

        @Override
        public void indicateTimetableChanged() {
            fail("This method should not be called.");
        }

        @Override
        public boolean calendarIsViewed() {
            fail("This method should not be called.");
            return false;
        }

        @Override
        public void switchView() {
            fail("This method should not be called.");
        }
    }

    /**
     * A Model stub that always throw a DuplicateGroupException when trying to add a group.
     */
    private class ModelStubThrowingDuplicateGroupException extends ModelStub {
        @Override
        public void addGroup(Group group) throws DuplicateGroupException {
            throw new DuplicateGroupException();
        }

        @Override
        public ReadOnlyAddressBook getAddressBook() {
            return new AddressBook();
        }
    }

    /**
     * A Model stub that always accept the group being added.
     */
    private class ModelStubAcceptingGroupAdded extends ModelStub {
        final ArrayList<Group> groupsAdded = new ArrayList<>();

        @Override
        public void addGroup(Group group) throws DuplicateGroupException {
            requireNonNull(group);
            groupsAdded.add(group);
        }

        @Override
        public ReadOnlyAddressBook getAddressBook() {
            return new AddressBook();
        }
    }
}
```
###### \java\seedu\address\logic\commands\DeleteGroupCommandTest.java
``` java
package seedu.address.logic.commands;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;
import static seedu.address.logic.commands.CommandTestUtil.assertCommandFailure;
import static seedu.address.logic.commands.CommandTestUtil.assertCommandSuccess;
import static seedu.address.logic.commands.CommandTestUtil.prepareRedoCommand;
import static seedu.address.logic.commands.CommandTestUtil.prepareUndoCommand;
import static seedu.address.testutil.TypicalGroups.GROUP_A;
import static seedu.address.testutil.TypicalGroups.GROUP_B;
import static seedu.address.testutil.TypicalIndexes.INDEX_FIRST_GROUP;
import static seedu.address.testutil.TypicalPersons.getTypicalAddressBook;

import org.junit.Test;

import seedu.address.commons.core.Messages;
import seedu.address.logic.CommandHistory;
import seedu.address.logic.UndoRedoStack;
import seedu.address.model.Model;
import seedu.address.model.ModelManager;
import seedu.address.model.UserPrefs;
import seedu.address.model.group.Group;
import seedu.address.model.group.Information;

/**
 * Contains integration tests (interaction with the Model, UndoCommand and RedoCommand) and unit tests for
 * {@code DeleteGroupCommand}.
 */
public class DeleteGroupCommandTest {

    private Model model = new ModelManager(getTypicalAddressBook(), new UserPrefs());

    @Test
    public void execute_validNameUnfilteredList_success() throws Exception {
        Group groupToDelete = model.getFilteredGroupList().get(INDEX_FIRST_GROUP.getZeroBased());
        DeleteGroupCommand deleteGroupCommand = prepareCommand(groupToDelete.getInformation());
        String expectedMessage = String.format(DeleteGroupCommand.MESSAGE_DELETE_GROUP_SUCCESS, groupToDelete);

        ModelManager expectedModel = new ModelManager(model.getAddressBook(), new UserPrefs());
        expectedModel.deleteGroup(groupToDelete);

        assertCommandSuccess(deleteGroupCommand, model, expectedMessage, expectedModel);
    }


    @Test
    public void executeUndoRedo_validNameUnfilteredList_success() throws Exception {
        UndoRedoStack undoRedoStack = new UndoRedoStack();
        UndoCommand undoCommand = prepareUndoCommand(model, undoRedoStack);
        RedoCommand redoCommand = prepareRedoCommand(model, undoRedoStack);
        Group groupToDelete = model.getFilteredGroupList().get(INDEX_FIRST_GROUP.getZeroBased());
        DeleteGroupCommand deleteGroupCommand = prepareCommand(groupToDelete.getInformation());
        Model expectedModel = new ModelManager(model.getAddressBook(), new UserPrefs());

        // delete -> first to-do deleted
        deleteGroupCommand.execute();
        undoRedoStack.push(deleteGroupCommand);

        // undo -> reverts addressbook back to previous state and filtered to-do list to show all to-dos
        assertCommandSuccess(undoCommand, model, UndoCommand.MESSAGE_SUCCESS, expectedModel);

        // redo -> same first to-do deleted again
        expectedModel.deleteGroup(groupToDelete);
        assertCommandSuccess(redoCommand, model, RedoCommand.MESSAGE_SUCCESS, expectedModel);
    }

    @Test
    public void execute_invalidNameUnfilteredList_throwsCommandException() throws Exception {

        Information information = new Information("GROUP G");
        DeleteGroupCommand deleteGroupCommand = prepareCommand(information);

        assertCommandFailure(deleteGroupCommand, model, Messages.MESSAGE_INVALID_GROUP_NAME);
    }

    @Test
    public void executeUndoRedo_invalidNameUnfilteredList_failure() {
        UndoRedoStack undoRedoStack = new UndoRedoStack();
        UndoCommand undoCommand = prepareUndoCommand(model, undoRedoStack);
        RedoCommand redoCommand = prepareRedoCommand(model, undoRedoStack);
        Information information = new Information("GROUP G");
        DeleteGroupCommand deleteGroupCommand = prepareCommand(information);

        // execution failed -> deleteGroupCommand not pushed into undoRedoStack
        assertCommandFailure(deleteGroupCommand, model, Messages.MESSAGE_INVALID_GROUP_NAME);

        // no commands in undoRedoStack -> undoCommand and redoCommand fail
        assertCommandFailure(undoCommand, model, UndoCommand.MESSAGE_FAILURE);
        assertCommandFailure(redoCommand, model, RedoCommand.MESSAGE_FAILURE);
    }

    @Test
    public void equals() throws Exception {
        DeleteGroupCommand deleteGroupFirstCommand = prepareCommand(GROUP_A.getInformation());
        DeleteGroupCommand deleteGroupSecondCommand = prepareCommand(GROUP_B.getInformation());

        // same object -> returns true
        assertTrue(deleteGroupFirstCommand.equals(deleteGroupFirstCommand));

        // same values -> returns true
        DeleteGroupCommand deleteGroupFirstCommandCopy = prepareCommand(GROUP_A.getInformation());
        assertTrue(deleteGroupFirstCommand.equals(deleteGroupFirstCommandCopy));

        // different types -> returns false
        assertFalse(deleteGroupFirstCommand.equals(1));

        // null -> returns false
        assertFalse(deleteGroupFirstCommand.equals(null));

        // different group -> returns false
        assertFalse(deleteGroupFirstCommand.equals(deleteGroupSecondCommand));
    }

    /**
     * Returns a {@code DeleteGroupCommand} with the parameter {@code index}.
     */
    private DeleteGroupCommand prepareCommand(Information information) {
        DeleteGroupCommand deleteGroupCommand = new DeleteGroupCommand(information);
        deleteGroupCommand.setData(model, new CommandHistory(), new UndoRedoStack());
        return deleteGroupCommand;
    }
}
```
###### \java\seedu\address\logic\commands\ListGroupMembersCommandTest.java
``` java
package seedu.address.logic.commands;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;
import static seedu.address.logic.commands.CommandTestUtil.assertCommandFailure;
import static seedu.address.logic.commands.CommandTestUtil.assertCommandSuccess;
import static seedu.address.testutil.TypicalPersons.getTypicalAddressBook;

import org.junit.Test;

import seedu.address.logic.CommandHistory;
import seedu.address.logic.UndoRedoStack;
import seedu.address.model.Model;
import seedu.address.model.ModelManager;
import seedu.address.model.UserPrefs;
import seedu.address.model.group.Group;
import seedu.address.model.group.Information;
import seedu.address.model.group.MembersInGroupPredicate;

public class ListGroupMembersCommandTest {

    private Model model = new ModelManager(getTypicalAddressBook(), new UserPrefs());

    @Test
    public void equals() {
        Group group1 = model.getFilteredGroupList().get(0);
        Group group2 = model.getFilteredGroupList().get(1);
        MembersInGroupPredicate firstPredicate =
                new MembersInGroupPredicate(group1);
        MembersInGroupPredicate secondPredicate =
                new MembersInGroupPredicate(group2);

        ListGroupMembersCommand findFirstCommand = new ListGroupMembersCommand(firstPredicate, group1);
        ListGroupMembersCommand findSecondCommand = new ListGroupMembersCommand(secondPredicate, group2);

        // same object -> returns true
        assertTrue(findFirstCommand.equals(findFirstCommand));

        // same values -> returns true
        ListGroupMembersCommand findFirstCommandCopy = new ListGroupMembersCommand(firstPredicate, group1);
        assertTrue(findFirstCommand.equals(findFirstCommandCopy));

        // different types -> returns false
        assertFalse(findFirstCommand.equals(1));

        // null -> returns false
        assertFalse(findFirstCommand.equals(null));

        // different person -> returns false
        assertFalse(findFirstCommand.equals(findSecondCommand));
    }
    @Test
    public void execute_noGroupFound() {
        String expectedMessage = String.format(ListGroupMembersCommand.MESSAGE_NO_SUCH_GROUP);
        Group groupToList = new Group(new Information("Group Z"));
        MembersInGroupPredicate predicate = new MembersInGroupPredicate(groupToList);
        ListGroupMembersCommand command = prepareCommand(predicate, groupToList);
        assertCommandFailure(command, model, expectedMessage);
    }

    @Test
    public void execute_groupFoundSuccess() {

        Group groupToList = new Group(new Information("Group A"));
        String expectedMessage = String.format("0 persons listed!");
        Model expectedModel = model;
        MembersInGroupPredicate predicate = new MembersInGroupPredicate(groupToList);
        ListGroupMembersCommand command = prepareCommand(predicate, groupToList);
        assertCommandSuccess(command, model, expectedMessage, expectedModel);
    }

    /**
     * Parses {@code userInput} into a {@code ListGroupMembersCommand}.
     */
    private ListGroupMembersCommand prepareCommand(MembersInGroupPredicate predicate, Group groupToList) {
        ListGroupMembersCommand command =
                new ListGroupMembersCommand(new MembersInGroupPredicate(groupToList), groupToList);
        command.setData(model, new CommandHistory(), new UndoRedoStack());
        return command;
    }


}

```
###### \java\seedu\address\logic\commands\ListTagMembersCommandTest.java
``` java
package seedu.address.logic.commands;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;
import static seedu.address.commons.core.Messages.MESSAGE_PERSONS_LISTED_OVERVIEW;
import static seedu.address.testutil.TypicalPersons.ALICE;
import static seedu.address.testutil.TypicalPersons.BENSON;
import static seedu.address.testutil.TypicalPersons.getTypicalAddressBook;

import java.util.Arrays;
import java.util.Collections;
import java.util.List;

import org.junit.Test;

import seedu.address.logic.CommandHistory;
import seedu.address.logic.UndoRedoStack;
import seedu.address.model.AddressBook;
import seedu.address.model.Model;
import seedu.address.model.ModelManager;
import seedu.address.model.UserPrefs;
import seedu.address.model.person.Person;
import seedu.address.model.person.TagContainKeywordsPredicate;

/**
 * Contains integration tests (interaction with the Model) for {@code ListTagMembersCommand}.
 */
public class ListTagMembersCommandTest {
    private Model model = new ModelManager(getTypicalAddressBook(), new UserPrefs());

    @Test
    public void equals() {
        TagContainKeywordsPredicate firstPredicate =
                new TagContainKeywordsPredicate(Collections.singletonList("first"));
        TagContainKeywordsPredicate secondPredicate =
                new TagContainKeywordsPredicate(Collections.singletonList("second"));

        ListTagMembersCommand findFirstCommand = new ListTagMembersCommand(firstPredicate);
        ListTagMembersCommand findSecondCommand = new ListTagMembersCommand(secondPredicate);

        // same object -> returns true
        assertTrue(findFirstCommand.equals(findFirstCommand));

        // same values -> returns true
        ListTagMembersCommand findFirstCommandCopy = new ListTagMembersCommand(firstPredicate);
        assertTrue(findFirstCommand.equals(findFirstCommandCopy));

        // different types -> returns false
        assertFalse(findFirstCommand.equals(1));

        // null -> returns false
        assertFalse(findFirstCommand.equals(null));

        // different person -> returns false
        assertFalse(findFirstCommand.equals(findSecondCommand));
    }

    @Test
    public void execute_zeroKeywords_noPersonFound() {
        String expectedMessage = String.format(MESSAGE_PERSONS_LISTED_OVERVIEW, 0);
        ListTagMembersCommand command = prepareCommand(" ");
        assertCommandSuccess(command, expectedMessage, Collections.emptyList());
    }

    @Test
    public void execute_multipleKeywords_multiplePersonsFound() {
        String expectedMessage = String.format(MESSAGE_PERSONS_LISTED_OVERVIEW, 2);
        ListTagMembersCommand command = prepareCommand("CS3230 owesMoney");
        assertCommandSuccess(command, expectedMessage, Arrays.asList(ALICE, BENSON));
    }

    /**
     * Parses {@code userInput} into a {@code ListTagMembersCommand}.
     */
    private ListTagMembersCommand prepareCommand(String userInput) {
        ListTagMembersCommand command =
                new ListTagMembersCommand(new TagContainKeywordsPredicate(Arrays.asList(userInput.split("\\s+"))));
        command.setData(model, new CommandHistory(), new UndoRedoStack());
        return command;
    }

    /**
     * Asserts that {@code command} is successfully executed, and<br>
     *     - the command feedback is equal to {@code expectedMessage}<br>
     *     - the {@code FilteredList<Person>} is equal to {@code expectedList}<br>
     *     - the {@code AddressBook} in model remains the same after executing the {@code command}
     */
    private void assertCommandSuccess(ListTagMembersCommand command, String expectedMessage,
                                      List<Person> expectedList) {
        AddressBook expectedAddressBook = new AddressBook(model.getAddressBook());
        CommandResult commandResult = command.execute();

        assertEquals(expectedMessage, commandResult.feedbackToUser);
        assertEquals(expectedList, model.getFilteredPersonList());
        assertEquals(expectedAddressBook, model.getAddressBook());
    }
}
```
###### \java\seedu\address\logic\parser\AddGroupCommandParserTest.java
``` java
package seedu.address.logic.parser;

import static seedu.address.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;
import static seedu.address.logic.commands.CommandTestUtil.INVALID_INFORMATION;
import static seedu.address.logic.commands.CommandTestUtil.PREAMBLE_WHITESPACE;
import static seedu.address.logic.commands.CommandTestUtil.VALID_INFORMATION;
import static seedu.address.logic.parser.CommandParserTestUtil.assertParseFailure;
import static seedu.address.logic.parser.CommandParserTestUtil.assertParseSuccess;

import org.junit.Test;

import seedu.address.logic.commands.AddGroupCommand;
import seedu.address.model.group.Group;
import seedu.address.model.group.Information;
import seedu.address.testutil.GroupBuilder;

public class AddGroupCommandParserTest {
    private AddGroupCommandParser parser = new AddGroupCommandParser();

    @Test
    public void parse_allFieldsPresent_success() {
        Group expectedGroup = new GroupBuilder().withInformation(VALID_INFORMATION).build();

        // whitespace only preamble
        assertParseSuccess(parser, PREAMBLE_WHITESPACE + VALID_INFORMATION,
                new AddGroupCommand(expectedGroup));

        // valid content
        assertParseSuccess(parser, VALID_INFORMATION,
                new AddGroupCommand(expectedGroup));
    }

    @Test
    public void parse_compulsoryFieldMissing_failure() {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT, AddGroupCommand.MESSAGE_USAGE);

        // missing content
        assertParseFailure(parser, PREAMBLE_WHITESPACE,
                expectedMessage);
    }

    @Test
    public void parse_invalidValue_failure() {
        // invalid content
        assertParseFailure(parser, INVALID_INFORMATION,
                Information.MESSAGE_INFORMATION_CONSTRAINTS);
    }
}
```
###### \java\seedu\address\logic\parser\AddMembersToGroupCommandParserTest.java
``` java

import static seedu.address.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;
import static seedu.address.logic.commands.CommandTestUtil.INVALID_DESC_NO_GROUP;
import static seedu.address.logic.commands.CommandTestUtil.INVALID_DESC_NO_NAME;
import static seedu.address.logic.commands.CommandTestUtil.VALID_INFORMATION;
import static seedu.address.logic.commands.CommandTestUtil.VALID_NAME_AMY;
import static seedu.address.logic.parser.CommandParserTestUtil.assertParseFailure;

import org.junit.Test;

import seedu.address.logic.commands.AddMembersToGroupCommand;


public class AddMembersToGroupCommandParserTest {

    private static final String MESSAGE_INVALID_FORMAT =
            String.format(MESSAGE_INVALID_COMMAND_FORMAT, AddMembersToGroupCommand.MESSAGE_USAGE);

    private AddMembersToGroupCommandParser parser = new AddMembersToGroupCommandParser();

    @Test
    public void parse_missingParts_failure() {
        // no name of person specified
        assertParseFailure(parser, VALID_INFORMATION, MESSAGE_INVALID_FORMAT);

        // no group specified
        assertParseFailure(parser, VALID_NAME_AMY, MESSAGE_INVALID_FORMAT);

        // no  field specified
        assertParseFailure(parser, "", MESSAGE_INVALID_FORMAT);

    }

    @Test
    public void parse_compulsoryFieldMissing_failure() {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT, AddMembersToGroupCommand.MESSAGE_USAGE);

        //missing group prefix
        assertParseFailure(parser, INVALID_DESC_NO_GROUP, expectedMessage);

        //missing person name prefix
        assertParseFailure(parser, INVALID_DESC_NO_NAME, expectedMessage);

        //missing field
        assertParseFailure(parser , " ", expectedMessage);
    }
}
```
###### \java\seedu\address\logic\parser\AddressBookParserTest.java
``` java
    @Test
    public void parseCommand_addGroup() throws Exception {
        Group group = new GroupBuilder().build();
        AddGroupCommand command = (AddGroupCommand) parser.parseCommand(AddGroupCommand.COMMAND_WORD
                + " " + group.getInformation());
        assertEquals(new AddGroupCommand(group), command);
    }

    @Test
    public void parseCommand_addGroupAlias() throws Exception {
        Group group = new GroupBuilder().build();
        AddGroupCommand command = (AddGroupCommand) parser.parseCommand(AddGroupCommand.COMMAND_ALIAS
                + " " + group.getInformation());
        assertEquals(new AddGroupCommand(group), command);
    }

    @Test
    public void parseCommand_deleteGroup() throws Exception {
        Information information = new Information("Group A");
        DeleteGroupCommand command = (DeleteGroupCommand) parser.parseCommand(
                DeleteGroupCommand.COMMAND_WORD + " " + "Group A");
        assertEquals(new DeleteGroupCommand(information), command);
    }

    @Test
    public void parseCommand_deleteGroupAlias() throws Exception {
        Information information = new Information("Group A");
        DeleteGroupCommand command = (DeleteGroupCommand) parser.parseCommand(
                DeleteGroupCommand.COMMAND_ALIAS + " " + "Group A");
        assertEquals(new DeleteGroupCommand(information), command);
    }

```
###### \java\seedu\address\logic\parser\AddressBookParserTest.java
``` java
    @Test
    public void parseCommand_listTagMembers() throws Exception {
        List<String> keywords = Arrays.asList("friends", "CS3230");
        ListTagMembersCommand command = (ListTagMembersCommand) parser.parseCommand(
                ListTagMembersCommand.COMMAND_WORD + " " + keywords.stream().collect(Collectors.joining(" ")));
        assertEquals(new ListTagMembersCommand(new TagContainKeywordsPredicate(keywords)), command);
    }

    @Test
    public void parseCommand_listTagGMembersAlias() throws Exception {
        List<String> keywords = Arrays.asList("friends", "CS3230");
        ListTagMembersCommand command = (ListTagMembersCommand) parser.parseCommand(
                ListTagMembersCommand.COMMAND_ALIAS + " " + keywords.stream().collect(Collectors.joining(" ")));
        assertEquals(new ListTagMembersCommand(new TagContainKeywordsPredicate(keywords)), command);
    }
```
###### \java\seedu\address\logic\parser\DeleteGroupCommandParserTest.java
``` java
package seedu.address.logic.parser;

import static seedu.address.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;
import static seedu.address.logic.parser.CommandParserTestUtil.assertParseFailure;
import static seedu.address.logic.parser.CommandParserTestUtil.assertParseSuccess;
import static seedu.address.testutil.TypicalGroups.GROUP_A;

import org.junit.Test;

import seedu.address.logic.commands.DeleteGroupCommand;

/**
 * As we are only doing white-box testing, our test cases do not cover path variations
 * outside of the DeleteGroupCommand code. For example, inputs "GROUP A" take the
 * same path through the DeleteGroupCommand, and therefore we test only one of them.
 * The path variation for those two cases occur inside the ParserUtil, and
 * therefore should be covered by the ParserUtilTest.
 */
public class DeleteGroupCommandParserTest {

    private DeleteGroupCommandParser parser = new DeleteGroupCommandParser();

    @Test
    public void parse_validArgs_returnsDeleteGroupCommand() {
        assertParseSuccess(parser, "Group A", new DeleteGroupCommand(GROUP_A.getInformation()));
    }

    @Test
    public void parse_invalidArgs_throwsParseException() {
        assertParseFailure(parser, "!", String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                DeleteGroupCommand.MESSAGE_USAGE));
    }
}
```
###### \java\seedu\address\logic\parser\ListGroupMembersCommandParserTest.java
``` java
package seedu.address.logic.parser;

import static seedu.address.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;
import static seedu.address.logic.parser.CommandParserTestUtil.assertParseFailure;
import static seedu.address.logic.parser.CommandParserTestUtil.assertParseSuccess;

import org.junit.Test;

import seedu.address.logic.commands.ListGroupMembersCommand;
import seedu.address.model.group.Group;
import seedu.address.model.group.Information;
import seedu.address.model.group.MembersInGroupPredicate;

public class ListGroupMembersCommandParserTest {
    private ListGroupMembersCommandParser parser = new ListGroupMembersCommandParser();


    @Test
    public void parse_emptyArg_throwsParseException() {
        assertParseFailure(parser, "", String.format( String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                ListGroupMembersCommand.MESSAGE_USAGE)));
    }

    @Test
    public void parse_validArgs_returnsListGroupMembersCommand() {

        Group group = new Group(new Information("Group A"));
        ListGroupMembersCommand expectedListGroupMembersCommand =
                new ListGroupMembersCommand(new MembersInGroupPredicate(group), group);
        assertParseSuccess(parser, "Group A", expectedListGroupMembersCommand);

    }
    @Test
    public void parse_invalidArg_throwsParseException() {
        assertParseFailure(parser, "##!#@", String.format(Information.MESSAGE_INFORMATION_CONSTRAINTS));
    }
}
```
###### \java\seedu\address\logic\parser\ListTagMembersCommandParserTest.java
``` java
package seedu.address.logic.parser;

import static seedu.address.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;
import static seedu.address.logic.parser.CommandParserTestUtil.assertParseFailure;
import static seedu.address.logic.parser.CommandParserTestUtil.assertParseSuccess;

import java.util.Arrays;

import org.junit.Test;

import seedu.address.logic.commands.ListTagMembersCommand;
import seedu.address.model.person.TagContainKeywordsPredicate;

public class ListTagMembersCommandParserTest {

    private ListTagMembersCommandParser parser = new ListTagMembersCommandParser();

    @Test
    public void parse_emptyArg_throwsParseException() {
        assertParseFailure(parser, "     ", String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                ListTagMembersCommand.MESSAGE_USAGE));
    }

    @Test
    public void parse_validArgs_returnsListTagMembersCommand() {
        // no leading and trailing whitespaces
        ListTagMembersCommand expectedListTagMembersCommand =
                new ListTagMembersCommand(new TagContainKeywordsPredicate(Arrays.asList("friends", "CS3230")));
        assertParseSuccess(parser, "friends CS3230", expectedListTagMembersCommand);

        // multiple whitespaces between keywords
        assertParseSuccess(parser, " \n friends \n \t CS3230  \t", expectedListTagMembersCommand);
    }

}
```
###### \java\seedu\address\model\AddressBookTest.java
``` java
    @Test
    public void resetData_withDuplicateGroups_throwsAssertionError() {
        // Repeat GROUP_A twice
        List<Person> newPersons = Arrays.asList(ALICE);
        List<Tag> newTags = new ArrayList<>(ALICE.getTags());
        List<ToDo> newToDos = Arrays.asList(TODO_A);
        List<Group> newGroups = Arrays.asList(GROUP_A, GROUP_A);
        List<Event> newEvents = Arrays.asList(F1RACE);
        AddressBookStub newData = new AddressBookStub(newPersons, newTags, newToDos, newGroups, newEvents);

        thrown.expect(AssertionError.class);
        addressBook.resetData(newData);
    }
```
###### \java\seedu\address\model\group\GroupTest.java
``` java
package seedu.address.model.group;


import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

import org.junit.Test;

import seedu.address.testutil.GroupBuilder;

public class GroupTest {
    @Test
    public void equals() {
        Group groupA = new GroupBuilder().withInformation("Group A").build();
        Group groupB = new GroupBuilder().withInformation("Group A").build();

        // different types -> returns false
        assertFalse(groupA.equals(1));

        // same content -> returns true
        assertTrue(groupA.hashCode() == groupB.hashCode());
    }
}
```
###### \java\seedu\address\model\group\InformationTest.java
``` java
package seedu.address.model.group;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;
import static seedu.address.logic.commands.CommandTestUtil.VALID_CONTENT;

import org.junit.Test;

import seedu.address.testutil.Assert;

public class InformationTest {

    @Test
    public void constructor_null_throwsNullPointerException() {
        Assert.assertThrows(NullPointerException.class, () -> new Information(null));
    }

    @Test
    public void constructor_invalidInformation_throwsIllegalArgumentException() {
        String invalidInformation = "!";
        Assert.assertThrows(IllegalArgumentException.class, () -> new Information(invalidInformation));
    }

    @Test
    public void isValidInformation() {
        // null content
        Assert.assertThrows(NullPointerException.class, () -> Information.isValidInformation(null));

        // invalid content
        assertFalse(Information.isValidInformation("")); // empty string
        assertFalse(Information.isValidInformation(" ")); // spaces only
        assertFalse(Information.isValidInformation("^")); // only non-alphanumeric characters
        assertFalse(Information.isValidInformation("Something to do*")); // contains non-alphanumeric characters

        // valid content
        assertTrue(Information.isValidInformation("hello world")); // alphabets only
        assertTrue(Information.isValidInformation("12345")); // numbers only
        assertTrue(Information.isValidInformation("hello world the 2nd")); // alphanumeric characters
        assertTrue(Information.isValidInformation("Hello World")); // with capital letters
        assertTrue(Information.isValidInformation("David Roger Jackson Ray Jr 2nd")); // long names
    }

    @Test
    public void isSameInformationHashCode() {
        Information firstInformation = new Information(VALID_CONTENT);
        Information secondInformation = new Information(VALID_CONTENT);
        assertTrue(firstInformation.hashCode() == secondInformation.hashCode());
    }
}
```
###### \java\seedu\address\model\person\TagContainKeywordsPredicateTest.java
``` java
package seedu.address.model.person;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

import java.util.Arrays;
import java.util.Collections;
import java.util.List;

import org.junit.Test;

import seedu.address.testutil.PersonBuilder;

public class TagContainKeywordsPredicateTest {

    @Test
    public void equals() {
        List<String> firstPredicateKeywordList = Collections.singletonList("first");
        List<String> secondPredicateKeywordList = Arrays.asList("first", "second");

        TagContainKeywordsPredicate firstPredicate = new TagContainKeywordsPredicate(firstPredicateKeywordList);
        TagContainKeywordsPredicate secondPredicate = new TagContainKeywordsPredicate(secondPredicateKeywordList);

        // same object -> returns true
        assertTrue(firstPredicate.equals(firstPredicate));

        // same values -> returns true
        TagContainKeywordsPredicate firstPredicateCopy = new TagContainKeywordsPredicate(firstPredicateKeywordList);
        assertTrue(firstPredicate.equals(firstPredicateCopy));

        // different types -> returns false
        assertFalse(firstPredicate.equals(1));

        // null -> returns false
        assertFalse(firstPredicate.equals(null));

        // different person -> returns false
        assertFalse(firstPredicate.equals(secondPredicate));
    }

    @Test
    public void test_tagContainKeywords_returnsTrue() {
        // One keyword
        TagContainKeywordsPredicate predicate = new TagContainKeywordsPredicate(Collections.singletonList("friends"));
        assertTrue(predicate.test(new PersonBuilder().withTags("friends").build()));

        // Only one matching keyword
        predicate = new TagContainKeywordsPredicate(Arrays.asList("friends", "Carol"));
        assertTrue(predicate.test(new PersonBuilder().withTags("friends").build()));

    }

    @Test
    public void test_tagDoesNotContainKeywords_returnsFalse() {
        // Zero keywords
        TagContainKeywordsPredicate predicate = new TagContainKeywordsPredicate(Collections.emptyList());
        assertFalse(predicate.test(new PersonBuilder().withTags("friends").build()));

        // Non-matching keyword
        predicate = new TagContainKeywordsPredicate(Arrays.asList("friends"));
        assertFalse(predicate.test(new PersonBuilder().withTags("oweMoney").build()));

        // Mixed-case keywords
        predicate = new TagContainKeywordsPredicate(Arrays.asList("FrieNds"));
        assertFalse(predicate.test(new PersonBuilder().withTags("friends").build()));

    }
}
```
###### \java\seedu\address\model\UniqueGroupListTest.java
``` java
package seedu.address.model;

import static org.junit.Assert.assertEquals;

import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.ExpectedException;

import seedu.address.model.group.UniqueGroupList;

public class UniqueGroupListTest {
    @Rule
    public ExpectedException thrown = ExpectedException.none();

    @Test
    public void asObservableList_modifyList_throwsUnsupportedOperationException() {
        UniqueGroupList uniqueGroupList = new UniqueGroupList();
        thrown.expect(UnsupportedOperationException.class);
        uniqueGroupList.asObservableList().remove(0);
    }

    @Test
    public void hashCode_sameList_sameResult() throws Exception {
        UniqueGroupList uniqueGroupList1 = new UniqueGroupList();
        UniqueGroupList uniqueGroupList2 = new UniqueGroupList();
        assertEquals(uniqueGroupList1.hashCode(), uniqueGroupList2.hashCode());

    }
}
```
###### \java\seedu\address\storage\XmlAdaptedGroupTest.java
``` java
package seedu.address.storage;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;
import static seedu.address.logic.commands.CommandTestUtil.INVALID_INFORMATION;
import static seedu.address.storage.XmlAdaptedGroup.MISSING_FIELD_MESSAGE_FORMAT;
import static seedu.address.testutil.TypicalGroups.GROUP_A;

import org.junit.Test;

import seedu.address.commons.exceptions.IllegalValueException;
import seedu.address.model.group.Information;
import seedu.address.testutil.Assert;

public class XmlAdaptedGroupTest {

    @Test
    public void toModelType_validGroupDetails_returnsGroup() throws Exception {
        XmlAdaptedGroup group = new XmlAdaptedGroup(GROUP_A);
        assertEquals(GROUP_A, group.toModelType());
    }

    @Test
    public void toModelType_invalidInformation_throwsIllegalValueException() {
        XmlAdaptedGroup group =
                new XmlAdaptedGroup(INVALID_INFORMATION);
        String expectedMessage = Information.MESSAGE_INFORMATION_CONSTRAINTS;
        Assert.assertThrows(IllegalValueException.class, expectedMessage, group::toModelType);
    }

    @Test
    public void toModelType_nullInformation_throwsIllegalValueException() {
        XmlAdaptedGroup group = new XmlAdaptedGroup((String) null);
        String expectedMessage = String.format(MISSING_FIELD_MESSAGE_FORMAT, Information.class.getSimpleName());
        Assert.assertThrows(IllegalValueException.class, expectedMessage, group::toModelType);
    }

    @Test
    public void equals() {
        XmlAdaptedGroup groupA = new XmlAdaptedGroup(GROUP_A);
        XmlAdaptedGroup groupB = new XmlAdaptedGroup(GROUP_A);
        assertTrue(groupA.equals(groupA));
        assertFalse(groupA.equals(1));
        assertTrue(groupA.equals(groupB));
    }

}
```
###### \java\seedu\address\testutil\GroupBuilder.java
``` java
package seedu.address.testutil;

import seedu.address.model.group.Group;
import seedu.address.model.group.Information;
import seedu.address.model.person.UniquePersonList;

/**
 * A utility class to help with building Group objects.
 */
public class GroupBuilder {

    public static final String DEFAULT_INFORMATION = "Something to do";

    private Information information;
    private UniquePersonList personList;

    public GroupBuilder() {
        information = new Information(DEFAULT_INFORMATION);
        personList = new UniquePersonList();
    }

    /**
     * Initializes the GroupBuilder with the data of {@code groupToCopy}.
     */
    public GroupBuilder(Group groupToCopy) {
        information = groupToCopy.getInformation();
        this.personList = groupToCopy.getPersonList();
    }

    /**
     * Sets the {@code Information} of the {@code Group} that we are building.
     */
    public GroupBuilder withInformation(String information) {
        this.information = new Information(information);
        personList = new UniquePersonList();
        return this;
    }

    public Group build() {
        return new Group(information, personList);
    }

}
```
###### \java\seedu\address\testutil\GroupUtil.java
``` java
package seedu.address.testutil;

import seedu.address.logic.commands.AddGroupCommand;
import seedu.address.model.group.Group;
import seedu.address.model.person.UniquePersonList;

/**
 * A utility class for Group.
 */
public class GroupUtil {

    /**
     * Returns an addGroup command string for adding the {@code group}.
     */
    public static String getAddGroupCommand(Group group) {
        return AddGroupCommand.COMMAND_WORD + " " + getGroupDetails(group);
    }

    /**
     * Returns the part of command string for the given {@code group}'s details.
     */
    public static String getGroupDetails(Group group) {
        StringBuilder sb = new StringBuilder();
        sb.append(group.getInformation().value);
        return sb.toString();
    }
    /**
     * Returns the list of persons the given {@code group}
     */
    public static UniquePersonList getPersonList(Group group) {
        UniquePersonList personListToReturn = group.getPersonList();
        return personListToReturn;
    }

}
```
###### \java\seedu\address\testutil\TestUtil.java
``` java
    /**
     * Returns the group in the {@code model}'s group list at {@code index}.
     */
    public static Group getGroup(Model model, Index index) {
        return model.getAddressBook().getGroupList().get(index.getZeroBased());
    }
```
###### \java\seedu\address\testutil\TypicalGroups.java
``` java
package seedu.address.testutil;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import seedu.address.model.group.Group;

/**
 * A utility class containing a list of {@code Group} objects to be used in tests.
 */
public class TypicalGroups {

    public static final Group GROUP_A = new GroupBuilder().withInformation("Group A").build();
    public static final Group GROUP_B = new GroupBuilder().withInformation("Group B").build();
    public static final Group GROUP_C = new GroupBuilder().withInformation("Group C").build();
    public static final Group GROUP_D = new GroupBuilder().withInformation("Group D").build();
    public static final Group GROUP_E = new GroupBuilder().withInformation("Group E").build();


    public static List<Group> getTypicalGroups() {
        return new ArrayList<>(Arrays.asList(GROUP_A, GROUP_B, GROUP_C));
    }
}
```
###### \java\systemtests\AddGroupCommandSystemTest.java
``` java
package systemtests;

import static seedu.address.logic.commands.CommandTestUtil.INFORMATION_E;
import static seedu.address.testutil.TypicalGroups.GROUP_E;

import org.junit.Test;

import seedu.address.commons.core.Messages;
import seedu.address.logic.commands.AddGroupCommand;
import seedu.address.model.Model;
import seedu.address.model.group.Group;
import seedu.address.model.group.exceptions.DuplicateGroupException;
import seedu.address.testutil.GroupUtil;

public class AddGroupCommandSystemTest extends AddressBookSystemTest {

    @Test
    public void addGroup() throws Exception {
        /* ------------------------ Perform addGroup operations on the shown unfiltered list ---------------------- */

        /* Case: add a group to a non-empty address book, command with leading spaces and trailing spaces
         * -> added
         */
        Group addGroup = GROUP_E;
        String command = "   " + AddGroupCommand.COMMAND_WORD + "  " + INFORMATION_E + " ";
        assertCommandSuccess(command, addGroup);

        /* Case: invalid keyword -> rejected */
        command = "addsGroup " + GroupUtil.getGroupDetails(addGroup);
        assertCommandFailure(command,
                Messages.MESSAGE_UNKNOWN_COMMAND + Messages.MESSAGE_DID_YOU_MEAN + AddGroupCommand.COMMAND_WORD);

        /* Case: add a duplicate group -> rejected */
        command = GroupUtil.getAddGroupCommand(GROUP_E);
        assertCommandFailure(command, AddGroupCommand.MESSAGE_DUPLICATE_GROUP);
    }

    /**
     * Executes the {@code AddGroupCommand} that adds {@code addGroup} to the model and asserts that the,<br>
     * 1. Command node displays an empty string.<br>
     * 2. Command node has the default style class.<br>
     * 3. Result display node displays the success message of executing {@code AddGroupCommand} with the details of
     * {@code addGroup}.<br>
     * 4. {@code Model}, {@code Storage} and {@code PersonListPanel} equal to the corresponding components in
     * the current model added with {@code addGroup}.<br>
     * 5. Browser url and selected card remain unchanged.<br>
     * 6. Status bar's sync status changes.<br>
     * Verifications 1, 3 and 4 are performed by
     * {@code AddressBookSystemTest#assertApplicationDisplaysExpected(String, String, Model)}.<br>
     * @see AddressBookSystemTest#assertApplicationDisplaysExpected(String, String, Model)
     */
    private void assertCommandSuccess(Group addGroup) {
        assertCommandSuccess(GroupUtil.getAddGroupCommand(addGroup), addGroup);
    }

    /**
     * Performs the same verification as {@code assertCommandSuccess(Group)}. Executes {@code command}
     * instead.
     * @see AddGroupCommandSystemTest#assertCommandSuccess(Group)
     */
    private void assertCommandSuccess(String command, Group addGroup) {
        Model expectedModel = getModel();
        try {
            expectedModel.addGroup(addGroup);
        } catch (DuplicateGroupException dpt) {
            throw new IllegalArgumentException("addGroup already exists in the model.");
        }
        String expectedResultMessage = String.format(AddGroupCommand.MESSAGE_SUCCESS, addGroup);

        assertCommandSuccess(command, expectedModel, expectedResultMessage);
    }

    /**
     * Performs the same verification as {@code assertCommandSuccess(String, Group)} except asserts that
     * the,<br>
     * 1. Result display node displays {@code expectedResultMessage}.<br>
     * 2. {@code Model}, {@code Storage} and {@code GroupListPanel} equal to the corresponding components in
     * {@code expectedModel}.<br>
     * @see AddGroupCommandSystemTest#assertCommandSuccess(String, Group)
     */
    private void assertCommandSuccess(String command, Model expectedModel, String expectedResultMessage) {
        executeCommand(command);
        assertApplicationDisplaysExpected("", expectedResultMessage, expectedModel);
        assertSelectedCardUnchanged();
        assertCommandBoxAndResultDisplayShowsDefaultStyle();
        assertStatusBarChangedExceptSaveLocation();
    }

    /**
     * Executes {@code command} and asserts that the,<br>
     * 1. Command node displays {@code command}.<br>
     * 2. Command node has the error style class.<br>
     * 3. Result display node displays {@code expectedResultMessage}.<br>
     * 4. {@code Model}, {@code Storage} and {@code PersonListPanel} remain unchanged.<br>
     * 5. Browser url, selected card and status bar remain unchanged.<br>
     * Verifications 1, 3 and 4 are performed by
     * {@code AddressBookSystemTest#assertApplicationDisplaysExpected(String, String, Model)}.<br>
     * @see AddressBookSystemTest#assertApplicationDisplaysExpected(String, String, Model)
     */
    private void assertCommandFailure(String command, String expectedResultMessage) {
        Model expectedModel = getModel();

        executeCommand(command);
        assertApplicationDisplaysExpected(command, expectedResultMessage, expectedModel);
        assertSelectedCardUnchanged();
        assertCommandBoxAndResultDisplayShowsErrorStyle();
        assertStatusBarUnchanged();
    }
}
```
###### \java\systemtests\AddressBookSystemTest.java
``` java
    /**
     * Asserts that the sync status in the status bar was changed to the timing of
     * {@code ClockRule#getInjectedClock()}, and total persons was changed to match the total
     * number of persons in the address book, while the save location remains the same.
     */
    protected void assertStatusBarChangedExceptSaveLocation() {
        StatusBarFooterHandle handle = getStatusBarFooter();

        String timestamp = new Date(clockRule.getInjectedClock().millis()).toString();
        String expectedSyncStatus = String.format(SYNC_STATUS_UPDATED, timestamp);
        assertEquals(expectedSyncStatus, handle.getSyncStatus());

        final int totalPersons = testApp.getModel().getAddressBook().getPersonList().size();
        assertEquals(String.format(TOTAL_PERSONS_STATUS, totalPersons), handle.getTotalPersonsStatus());

        assertFalse(handle.isSaveLocationChanged());
    }
```
###### \java\systemtests\DeleteGroupCommandSystemTest.java
``` java
package systemtests;

import static seedu.address.commons.core.Messages.MESSAGE_DID_YOU_MEAN;
import static seedu.address.commons.core.Messages.MESSAGE_INVALID_GROUP_NAME;
import static seedu.address.commons.core.Messages.MESSAGE_UNKNOWN_COMMAND;
import static seedu.address.logic.commands.DeleteGroupCommand.MESSAGE_DELETE_GROUP_SUCCESS;
import static seedu.address.testutil.TestUtil.getGroup;
import static seedu.address.testutil.TestUtil.getLastIndexGroup;
import static seedu.address.testutil.TypicalIndexes.INDEX_FIRST_GROUP;

import org.junit.Test;

import seedu.address.commons.core.Messages;
import seedu.address.commons.core.index.Index;
import seedu.address.logic.commands.DeleteGroupCommand;
import seedu.address.logic.commands.RedoCommand;
import seedu.address.logic.commands.UndoCommand;
import seedu.address.model.Model;
import seedu.address.model.group.Group;
import seedu.address.model.group.Information;
import seedu.address.model.group.exceptions.GroupNotFoundException;

public class DeleteGroupCommandSystemTest extends AddressBookSystemTest {

    private static final String MESSAGE_INVALID_DELETE_GROUP_COMMAND_FORMAT =
            String.format(Messages.MESSAGE_INVALID_COMMAND_FORMAT, DeleteGroupCommand.MESSAGE_USAGE);

    @Test
    public void deleteGroup() {
        /* ----------------- Performing delete operation while an unfiltered list is being shown -------------------- */

        /* Case: delete the first group in the list, command with leading spaces and trailing spaces -> deleted */
        Model expectedModel = getModel();
        String command = "  " + DeleteGroupCommand.COMMAND_WORD + "  " + "Group A" + "  ";
        Group deletedGroup = removeGroup(expectedModel, INDEX_FIRST_GROUP);
        String expectedResultMessage = String.format(MESSAGE_DELETE_GROUP_SUCCESS,
                deletedGroup.getInformation().toString());
        assertCommandSuccess(command, expectedModel, expectedResultMessage);

        /* Case: delete the last group in the list -> deleted */
        Model modelBeforeDeletingLast = getModel();
        Index lastGroupIndex = getLastIndexGroup(modelBeforeDeletingLast);
        assertCommandSuccess(lastGroupIndex);

        /* Case: undo deleting the last group in the list -> last group restored */
        command = UndoCommand.COMMAND_WORD;
        expectedResultMessage = UndoCommand.MESSAGE_SUCCESS;
        assertCommandSuccess(command, modelBeforeDeletingLast, expectedResultMessage);

        /* Case: redo deleting the last group in the list -> last group deleted again */
        command = RedoCommand.COMMAND_WORD;
        removeGroup(modelBeforeDeletingLast, lastGroupIndex);
        expectedResultMessage = RedoCommand.MESSAGE_SUCCESS;
        assertCommandSuccess(command, modelBeforeDeletingLast, expectedResultMessage);


        /* --------------------------------- Performing invalid delete operation ------------------------------------ */

        /* Case: invalid groupName (!) -> rejected */
        command = DeleteGroupCommand.COMMAND_WORD + " !";
        assertCommandFailure(command, MESSAGE_INVALID_DELETE_GROUP_COMMAND_FORMAT);

        /* Case: group Not in Fastis -> rejected */
        Information information = new Information("Group Z");
        command = DeleteGroupCommand.COMMAND_WORD + " " + information.toString();
        assertCommandFailure(command, MESSAGE_INVALID_GROUP_NAME);

        /* Case: invalid arguments (non - alphabets or numbers) -> rejected */
        assertCommandFailure(
                DeleteGroupCommand.COMMAND_WORD + " #@!@", MESSAGE_INVALID_DELETE_GROUP_COMMAND_FORMAT);


        /* Case: mixed case command word -> rejected */
        assertCommandFailure("DelETEGroup Group A",
                MESSAGE_UNKNOWN_COMMAND + MESSAGE_DID_YOU_MEAN + DeleteGroupCommand.COMMAND_WORD);
    }

    /**
     * Removes the {@code Group} at the specified {@code index} in {@code model}'s address book.
     * @return the removed group
     */
    private Group removeGroup(Model model, Index index) {
        Group targetGroup = getGroup(model, index);
        try {
            model.deleteGroup(targetGroup);
        } catch (GroupNotFoundException tnfe) {
            throw new AssertionError("targetGroup is retrieved from model.");
        }

        return targetGroup;
    }

    /**
     * Deletes the group at {@code toDelete} by creating a default {@code DeleteGroupCommand} using {@code toDelete} and
     * performs the same verification as {@code assertCommandSuccess(String, Model, String)}.
     * @see DeleteGroupCommandSystemTest#assertCommandSuccess(String, Model, String)
     */
    private void assertCommandSuccess(Index toDelete) {
        Model expectedModel = getModel();

        Group deletedGroup = removeGroup(expectedModel, toDelete);
        String expectedResultMessage = String.format(MESSAGE_DELETE_GROUP_SUCCESS,
                deletedGroup.getInformation().toString());
        assertCommandSuccess(DeleteGroupCommand.COMMAND_WORD + " "
                        + "Group C", expectedModel, expectedResultMessage);
    }

    /**
     * Executes {@code command} and in addition,<br>
     * 1. Asserts that the command box displays an empty string.<br>
     * 2. Asserts that the result display box displays {@code expectedResultMessage}.<br>
     * 3. Asserts that the model related components equal to {@code expectedModel}.<br>
     * 4. Asserts that the browser url and selected card remains unchanged.<br>
     * 5. Asserts that the status bar's sync status changes.<br>
     * 6. Asserts that the command box has the default style class.<br>
     * Verifications 1 to 3 are performed by
     * {@code AddressBookSystemTest#assertApplicationDisplaysExpected(String, String, Model)}.
     * @see AddressBookSystemTest#assertApplicationDisplaysExpected(String, String, Model)
     */
    private void assertCommandSuccess(String command, Model expectedModel, String expectedResultMessage) {

        assertCommandSuccess(command, expectedModel, expectedResultMessage, null);
    }

    /**
     * Performs the same verification as {@code assertCommandSuccess(String, Model, String)} except that the browser url
     * and selected card are expected to update accordingly depending on the card at {@code expectedSelectedCardIndex}.
     * @see DeleteCommandSystemTest#assertCommandSuccess(String, Model, String)
     * @see AddressBookSystemTest#assertSelectedCardChanged(Index)
     */
    private void assertCommandSuccess(String command, Model expectedModel, String expectedResultMessage,
                                      Index expectedSelectedCardIndex) {
        executeCommand(command);
        assertApplicationDisplaysExpected("", expectedResultMessage, expectedModel);

        if (expectedSelectedCardIndex != null) {
            assertSelectedCardChanged(expectedSelectedCardIndex);
        } else {
            assertSelectedCardUnchanged();
        }

        assertCommandBoxAndResultDisplayShowsDefaultStyle();
        assertStatusBarChangedExceptSaveLocation();
    }

    /**
     * Executes {@code command} and in addition,<br>
     * 1. Asserts that the command box displays {@code command}.<br>
     * 2. Asserts that result display box displays {@code expectedResultMessage}.<br>
     * 3. Asserts that the model related components equal to the current model.<br>
     * 4. Asserts that the browser url, selected card and status bar remain unchanged.<br>
     * 5. Asserts that the command box has the error style.<br>
     * Verifications 1 to 3 are performed by
     * {@code AddressBookSystemTest#assertApplicationDisplaysExpected(String, String, Model)}.<br>
     * @see AddressBookSystemTest#assertApplicationDisplaysExpected(String, String, Model)
     */
    private void assertCommandFailure(String command, String expectedResultMessage) {
        Model expectedModel = getModel();

        executeCommand(command);
        assertApplicationDisplaysExpected(command, expectedResultMessage, expectedModel);
        assertSelectedCardUnchanged();
        assertCommandBoxAndResultDisplayShowsErrorStyle();
        assertStatusBarUnchanged();
    }
}
```
